(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,n){e.exports=n(48)},38:function(e,t,n){},39:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(17),c=n.n(o),i=(n(38),n(4)),l=(n(39),n(66)),u=n(49),f=n(61),s=n(63);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var v=r.a.createElement("path",{d:"M11 11v-11h1v11h11v1h-11v11h-1v-11h-11v-1h11z"}),h=function(e){var t=e.svgRef,n=d(e,["svgRef"]);return r.a.createElement("svg",m({width:24,height:24,fillRule:"evenodd",clipRule:"evenodd",ref:t},n),v)},g=r.a.forwardRef(function(e,t){return r.a.createElement(h,m({svgRef:t},e))});n.p;function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var O=r.a.createElement("path",{d:"M0 12v1h23v-1h-23z"}),j=function(e){var t=e.svgRef,n=b(e,["svgRef"]);return r.a.createElement("svg",p({width:24,height:24,fillRule:"evenodd",clipRule:"evenodd",ref:t},n),O)},y=r.a.forwardRef(function(e,t){return r.a.createElement(j,p({svgRef:t},e))}),E=(n.p,n(28));function w(e){var t=e.children,n=Object(E.a)(e,["children"]);return r.a.createElement(f.a,Object.assign({style:{backgroundColor:"transparent",boxShadow:"none"}},n),t)}var x=n(9),V=n(15),R=n(14),z=n.n(R);function C(e){var t=Object(i.a)(e.controller,2),n=t[0],a=n.zoom,o=n.minZoom,c=n.maxZoom,l=t[1],f=function(e){var t=Math.sign(e)*(.1*a.getValue()+1);l({zoom:Object(R.clamp)(a.getValue()+t,o.getValue(),c.getValue())})};return r.a.createElement("div",{className:"Control",style:{width:70,display:"flex",zIndex:2}},r.a.createElement(u.a,{style:{borderRadius:"5em",maxHeight:240,margin:"auto",display:"flex",flexDirection:"column-reverse",justifyContent:"space-between"}},r.a.createElement(w,{onClick:function(e){e.preventDefault(),f(-1)}},r.a.createElement(y,null)),r.a.createElement("div",{style:{height:70,position:"relative"}},r.a.createElement(S,{diameter:70,zoom:a,zoomControl:l,minZoom:o,maxZoom:c})),r.a.createElement(w,{onClick:function(e){e.preventDefault(),f(1)}},r.a.createElement(g,null))))}function S(e){var t=Object(x.b)(function(){return{y:0,config:{friction:30,tension:400}}}),n=Object(i.a)(t,2),o=n[0].y,c=n[1],l=[e.zoom,e.zoomControl],u=l[0],m=l[1],d=Object(a.useState)(!1),v=Object(i.a)(d,2),h=v[0],g=v[1],p=Object(a.useState)(1),b=Object(i.a)(p,2),O=b[0],j=b[1],y=r.a.useRef(null);!function(e,t){var n=Object(a.useRef)();Object(a.useEffect)(function(){n.current=e}),Object(a.useEffect)(function(){if(null!==t){var e=setInterval(function(){n.current()},t);return function(){return clearInterval(e)}}},[t])}(function(){var t=u.getValue(),n=Object(R.clamp)(t+6e-5*Math.pow(t,.8)*O,e.minZoom.getValue(),e.maxZoom.getValue());m({zoom:n}),j(1.02*O)},h?100:null);var E=Object(V.b)(function(e){var t=e.down,n=Object(i.a)(e.movement,2),a=(n[0],n[1]),r=e.event,o=e.first,l=e.last;!o&&!l&&r.preventDefault(),g(t);var u=Object(R.clamp)(a,-80,80);j(t?-Math.sign(u)*Math.pow(Math.abs(u/8),4):0),c({y:t?u:0})},{event:{passive:!1,capture:!1},domTarget:y});return r.a.useEffect(E,[E]),r.a.createElement(x.a.div,{ref:y,style:{transform:o.interpolate(function(e){return"translateY(".concat(e,"px)")}),borderRadius:"50rem",width:e.diameter,height:e.diameter,marginLeft:-e.diameter/2,marginTop:-e.diameter/2,top:"50%",left:"50%",position:"absolute",zIndex:1}},r.a.createElement(f.a,{onClick:function(e){0===o.getValue()&&m({zoom:100})},style:{backgroundColor:"#2196f3",width:e.diameter,height:e.diameter}},r.a.createElement(s.a,{style:{color:"#fff"}},r.a.createElement(x.a.span,null,u.interpolate(function(e){return(e/100).toPrecision(5)})))))}n(67);function _(e){var t=Object(i.a)(e.controller,2),n=t[0],a=n.theta,o=n.itheta,c=t[1],l=function(e){return(e%360+360)%360},m=function(e){return 360*e/(2*Math.PI)},d={x:0,y:0,width:0,height:0},v=Object(V.b)(function(e){var t=Object(i.a)(e.xy,2),n=t[0],r=t[1],u=Object(i.a)(e.initial,2),f=u[0],s=u[1],v=e.first,h=e.memo,g=void 0===h?a.getValue():h,p=d.x+d.width/2,b=d.y+d.height/2;if(v)return c({theta:g,itheta:m(Math.atan2(-(f-p),s-b))}),g;var O=m(Math.atan2(-(n-p),r-b));return c({theta:g+l(O-o.getValue()),immediate:!0}),g});return r.a.createElement("div",Object.assign({},e,{style:{width:160,height:160,display:"flex",position:"relative"}}),r.a.createElement(u.a,Object.assign({},v(),{ref:function(e){if(e){var t=e.getBoundingClientRect();d={x:t.x,y:t.y,width:t.width,height:t.height}}},style:{borderRadius:"50rem",width:160,height:160}}),r.a.createElement(x.a.div,{style:{transform:a.interpolate(function(e){return"rotate(".concat(e,"deg)")}),width:"100%",height:"100%",display:"flex",justifyContent:"center"}},r.a.createElement(s.a,{style:{userSelect:"none"}},"(N)"))),r.a.createElement(f.a,{style:{width:70,height:70,borderRadius:"50rem",backgroundColor:"#2196f3",display:"flex",position:"absolute",left:"50%",top:"50%",margin:-35}},r.a.createElement(s.a,{style:{color:"#fff",margin:"auto"}},r.a.createElement(x.a.span,null,a.interpolate(function(e){return l(e).toFixed(0)})),"\xb0")))}n(46),n(47);var k=n(64),M=n(65),I=n(27);function P(e){var t=Object(a.useRef)(null),n=Object(a.useRef)(null),o=Object(a.useState)(null),c=Object(i.a)(o,2),l=c[0],u=c[1],f=200,m=Object(i.a)(e.maxiter,2),d=m[0],v=(m[1],Object(i.a)(e.pos,2)),h=v[0].pos,g=v[1],p=Object(i.a)(e.rot,2),b=p[0],O=b.theta,j=b.last_pointer_angle,y=p[1],E=Object(i.a)(e.zoom,2),w=E[0],R=w.zoom,C=w.last_pointer_dist,S=w.minZoom,_=w.maxZoom,P=E[1];function Z(e,t,n){var a=(t-e)/n;return z.a.range(e,t,a)}var D=function(e){if(null!=l){var t=e||l;!function(e){var t=n.current;e.clearRect(0,0,t.width,t.height)}(t);var a=h.getValue().map(function(e){return-e/f}),r=Object(i.a)(a,2),o=r[0],c=r[1];console.log("x: ".concat(o,", y: ").concat(c));var u=[f,f].map(function(e){return e/2/(R.getValue()/10)}),s=Object(i.a)(u,2),m=s[0],v=s[1];console.log(m);var g=[-1,1].map(function(e){return o+e*m}),p=Object(i.a)(g,2),b=p[0],O=p[1],j=[-1,1].map(function(e){return c+e*v}),y=Object(i.a)(j,2),E=y[0],w=y[1];Z(b,O,f).forEach(function(e,n){Z(E,w,f).forEach(function(a,r){for(var o=0,c=0,i=0,l=0,u=0,f=0;f<d;f++){var s=[l-u+e,2*c*i+a];if(o=f,(l=(c=s[0])*c)+(u=(i=s[1])*i)>4)break}t.fillStyle="hsl(0, 0%, ".concat(4*o,"%)"),t.fillRect(n,r,1,1)})}),console.log("render complete!")}},F=Object(x.b)(function(){return{newVd_test:0}}),N=Object(i.a)(F,2),B=N[0].newVd_test,T=N[1],J=Object(V.c)({onPinchStart:function(e){return e.event.preventDefault()},onPinch:function(e){var t=Object(i.a)(e.offset,2),n=t[0],a=t[1],r=e.down,o=Object(i.a)(e.vdva,2),c=(o[0],o[1],e.last,e.memo),l=void 0===c?[O.getValue(),j.getValue(),R.getValue(),C.getValue()]:c,u=Object(i.a)(l,4),f=u[0],s=u[1],m=u[2],d=u[3];console.log(n);var v=n/250,h=R.getValue();return P({zoom:z.a.clamp(m+(v-d)*Math.sign(h)*Math.abs(Math.pow(h,.9)),S.getValue(),_.getValue()),last_pointer_dist:v,immediate:r}),y({theta:f+(a-s),last_pointer_angle:a,immediate:r}),l},onPinchEnd:function(e){var t=Object(i.a)(e.vdva,2),n=t[0],a=t[1],r=z.a.clamp(R.getValue()+n,S.getValue(),_.getValue());T({newVd_test:n*(r-50)}),y({theta:a,config:{velocity:a,decay:!0}})},onDragStart:function(e){return e.event.preventDefault()},onDrag:function(e){var t=e.down,n=e.movement,a=e.velocity,r=e.direction,o=e.memo,c=void 0===o?h.getValue():o;return g({pos:Object(V.a)(n,c),immediate:t,config:{velocity:Object(I.scale)(r,a),decay:!0}}),c},onDragEnd:function(){D(l)}},{event:{passive:!1,capture:!1},domTarget:t});return Object(a.useEffect)(J,[J]),Object(a.useEffect)(function(){var e=n.current.getContext("2d");console.log("got canvas context: ".concat(e)),u(e),D(e)}),r.a.createElement("div",{className:"fullSize",style:{position:"absolute"},ref:t},r.a.createElement(x.a.canvas,{id:"mandelbrot",width:f,height:f,rotation:O.interpolate(function(e){return"".concat(e)}),style:{width:4*f,height:4*f},ref:n}),r.a.createElement(k.a,null,r.a.createElement(s.a,{style:{zIndex:1}},"theta: ",r.a.createElement(x.a.span,null,O.interpolate(function(e){return e.toFixed(3)})),", zoom: ",r.a.createElement(x.a.span,null,R.interpolate(function(e){return e.toFixed(3)})),", vd: ",r.a.createElement(x.a.span,null,B.interpolate(function(e){return e.toFixed(3)})),",")),r.a.createElement(M.a,{variant:"contained",color:"primary",onClick:function(e){var t=performance.now();D();var n=performance.now();console.log("rendered in ".concat(n-t))}},"render"))}var Z=function(){var e={mass:1,tension:100,friction:200},t=Object(a.useState)(45),n=Object(a.useState)(),o=Object(i.a)(n,2),c=(o[0],o[1],Object(x.b)(function(){return{pos:[0,0],onRest:function(){},config:e}})),u=Object(x.b)(function(){return{theta:0,last_pointer_angle:0,itheta:0,config:e}}),f=Object(x.b)(function(){return{zoom:100,last_pointer_dist:0,minZoom:50,maxZoom:1e6,config:{mass:1,tension:600,friction:50}}});return r.a.createElement(a.Fragment,null,r.a.createElement(P,{style:{position:"absolute",zIndex:0},pos:c,rot:u,zoom:f,maxiter:t}),r.a.createElement(l.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"flex-end"},r.a.createElement(C,{controller:f}),r.a.createElement(_,{className:"Control",controller:u})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.ca00c4e8.chunk.js.map