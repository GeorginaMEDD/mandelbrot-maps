(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{65:function(e,n,t){e.exports=t(79)},70:function(e,n,t){},71:function(e,n,t){},79:function(e,n,t){"use strict";t.r(n);var o=t(0),a=t.n(o),r=t(13),i=t.n(r),c=(t(70),t(8)),l=(t(71),t(122)),s=t(123),u=t(109),m=t(120),d=t(43),f=t(21),p=t.n(f),g=t(27),b=t(17),v=function(e){var n=e.maxI,t=void 0===n?300:n,o=e.AA,a=void 0===o?1:o,r=e.B,i=void 0===r?64:r,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stroke:2,radius:100};return"\n// Created by inigo quilez - iq/2013\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\n// See here for more information on smooth iteration count:\n// http://iquilezles.org/www/articles/mset_smooth/mset_smooth.htm\n\n// render parameters\n#define AA ".concat(a,"\n#define MAXI ").concat(t,"\n#define B ").concat(i.toFixed(1),"\n\n// crosshair parameters\n#define cross_stroke ").concat(c.stroke.toFixed(1),"\n#define cross_radius ").concat(c.radius.toFixed(1),'\n\n// set high float precision (lower than this may break colours on mobile)\nprecision highp float;\n\n// need to know the resolution of the canvas\nuniform vec2 resolution;\n\n// properties should be passed as uniforms\nuniform int   u_maxI;  \nuniform vec2  u_pos;\nuniform float u_zoom;\nuniform float u_theta;\n\nbool crosshair( float x, float y ) {\n    float abs_x = abs(2.0*x - resolution.x);\n    float abs_y = abs(2.0*y - resolution.y);\n\n    return \n    // crosshair in centre of screen\n    (abs_x <= cross_stroke || abs_y <= cross_stroke) &&\n    // crosshair size / "radius"\n    (abs_x <= cross_radius && abs_y <= cross_radius);\n}\n\nfloat mandelbrot( in vec2 c ) {\n    {\n        float c2 = dot(c, c);\n        // skip computation inside M1 - http://iquilezles.org/www/articles/mset_1bulb/mset1bulb.htm\n        if( 256.0*c2*c2 - 96.0*c2 + 32.0*c.x - 3.0 < 0.0 ) return 0.0;\n        // skip computation inside M2 - http://iquilezles.org/www/articles/mset_2bulb/mset2bulb.htm\n        if( 16.0*(c2+2.0*c.x+1.0) - 1.0 < 0.0 ) return 0.0;\n    }\n\n    float l = 0.0;\n    vec2 z  = vec2(0.0);\n    for( int i=0; i<MAXI; i++ )\n    {\n        z = vec2( z.x*z.x - z.y*z.y, 2.0*z.x*z.y ) + c;\n        if( dot(z,z)>(B*B) ) break;\n        l += 1.0;\n    }\n\n    // maxed out iterations\n    if( l>float(MAXI)-1.0 ) return 0.0;\n    \n    // optimized smooth interation count\n    l = l - log2(log2(dot(z,z))) + 4.0;\n\n    return l;\n}\n\nvoid main() {    \n    // set the initial colour to black\n    vec3 col = vec3(0.0);\n\n    // anti-aliasing\n    #if AA>1\n    for( int m=0; m<AA; m++ )\n    for( int n=0; n<AA; n++ )\n    {\n        // vec2 p = (-iResolution.xy + 2.0*(fragCoord.xy+vec2(float(m),float(n))/float(AA)))/iResolution.y;\n        vec2 p = (2.0*(gl_FragCoord.xy + vec2(float(m), float(n)) / float(AA) ) - resolution.xy)/resolution.y;\n        float w = float(AA*m+n);\n    #else    \n        // adjust pixels to range from [-1, 1]\n        vec2 p = (2.0*gl_FragCoord.xy - resolution.xy)/resolution.y;\n    #endif\n\n    // c is based on offset and grid position, z_0 = 0\n    vec2 c = u_pos + p/u_zoom;\n    \n    float l = mandelbrot(c);\n    col += 0.5 + 0.5*cos( 3.0 + l*0.15 + vec3(0.0,0.6,1.0));\n\n    // antialiasing\n    #if AA>1\n    }\n    col /= float(AA*AA);\n    #endif\n\n    // add crosshair\n    if (crosshair(gl_FragCoord.x, gl_FragCoord.y)) {\n        col = 1. - col;\n    }\n\n    // Output to screen\n    gl_FragColor = vec4( col, 1.0 );\n}\n')},h=t(2),z=t(26),x={position:{numComponents:3,data:[-1,-1,0,1,-1,0,-1,1,0,-1,1,0,1,-1,0,1,1,0]}},E=t(34),j=a.a.forwardRef(function(e,n){var t=e.mini,r=void 0!==t&&t,i=Object(h.a)(e,["mini"]),c=i.glRef,l=Object(o.useRef)(null),s=Object(o.useRef)(null),u=Object(o.useRef)(null),m=r?function(){return 1}:function(){return i.u.zoom.getValue()},d=Object(o.useRef)(m),f=i.dpr||1;Object(o.useEffect)(function(){d.current=i.u.zoom.getValue()},[i.u]),Object(o.useEffect)(function(){c.current=n.current.getContext("webgl"),s.current=z.a(c.current,x)},[c,n]);var p=Object(o.useCallback)(function(e){z.d(c.current.canvas,f),c.current.viewport(0,0,c.current.canvas.width,c.current.canvas.height);var n={resolution:[c.current.canvas.width,c.current.canvas.height],u_zoom:m(),u_c:void 0===i.u.c?0:i.u.c.getValue().map(function(e){return e*i.u.screenScaleMultiplier}),u_pos:Object(E.scale)(i.u.pos.getValue(),i.u.screenScaleMultiplier),u_maxI:i.u.maxI};c.current.useProgram(u.current.program),z.e(c.current,u.current,s.current),z.f(u.current,n),z.c(c.current,s.current),l.current=requestAnimationFrame(p)},[c,i.u,m,f]);return Object(o.useEffect)(function(){u.current=z.b(c.current,["\nattribute vec4 position;\n\nvoid main() {\n  gl_Position = position;\n}\n",i.fragShader])},[c,i.fragShader]),Object(o.useEffect)(function(){return l.current=requestAnimationFrame(p),function(){return cancelAnimationFrame(l.current)}},[p]),a.a.createElement(b.a.canvas,{id:i.id,className:"renderer",ref:n})});function w(e){var n=e.domTarget,t=e.posControl,o=e.zoomControl,a=e.screenScaleMultiplier,r=e.gl,i=Object(c.a)(t,2),l=i[0].pos,s=i[1],u=Object(c.a)(o,2),m=u[0],d=m.zoom,f=m.minZoom,b=m.maxZoom,v=u[1];return{binds:{onDragStart:function(e){return e.event.preventDefault()},onPinchStart:function(e){return e.event.preventDefault()},onPinch:function(e){var n=Object(c.a)(e.vdva,1)[0],t=e.down,o=Object(c.a)(e.delta,1)[0],a=e.origin,r=e.first,i=e.memo,s=void 0===i?[l.getValue()]:i,u=e.z,m=void 0===u?d.getValue():u;if(r)return[Object(c.a)(s,1)[0],a];var g=m*(1+.005*o),h=p.a.clamp(g,f.getValue(),b.getValue());return v({zoom:h,immediate:t,config:{velocity:10*n}}),s},onWheel:function(e){var n=Object(c.a)(e.movement,2)[1],t=e.active,o=e.z,a=void 0===o?d.getValue():o,r=a*(1-n*(n<0?3e-4:2e-4));return v({zoom:p.a.clamp(r,f.getValue(),b.getValue()),immediate:t,config:{}}),a},onDrag:function(e){var n=e.down,t=e.movement,o=e.velocity,i=e.direction,c=e.pinching,u=e.memo,m=void 0===u?l.getValue():u;if(!c){var f=r.current.canvas.height*d.getValue()*a,p=Object(E.scale)(t,-2/f),b=[p[0],-p[1]],v=[i[0],-i[1]];return s({pos:Object(g.a)(m,b),immediate:n,config:{velocity:Object(E.scale)(v,-o/f),decay:!0}}),m}}},config:{event:{passive:!1,capture:!1},domTarget:n}}}function y(e){var n=Object(o.useRef)(null),t=Object(o.useRef)(null),r=Object(o.useRef)(null),i=Object(o.useRef)(null),l=e.screenmult,s=Object(c.a)(e.controls.pos,1)[0].pos,u=Object(c.a)(e.controls.zoom,2),m=u[0].zoom,d=u[1],f=e.maxiter,h=e.aa?2:1,z=v({maxI:f,AA:h}),x=v({maxI:f,AA:2},{stroke:1,radius:30}),E=w({domTarget:n,posControl:e.controls.pos,zoomControl:e.controls.zoom,screenScaleMultiplier:l/e.dpr,gl:r}),y=Object(g.b)(E.binds,E.config);return Object(o.useEffect)(y,[y]),a.a.createElement("div",{className:"renderer",style:{position:"relative"}},a.a.createElement(j,{id:"mandelbrot",fragShader:z,dpr:e.dpr,touchBind:y,u:{zoom:m,pos:s,maxI:f,screenScaleMultiplier:l},ref:n,glRef:r}),e.enableMini?a.a.createElement(b.a.div,{style:{position:"absolute",zIndex:2,margin:"0.5rem",left:0,bottom:0,height:e.miniSize[0],width:e.miniSize[0],borderRadius:e.miniSize[0],boxShadow:"0px 2px 10px 1px rgba(0, 0, 0, 0.4)",overflow:"hidden",opacity:m.interpolate(function(e){return p.a.clamp(e-1,0,1)}),display:m.interpolate(function(e){return 0===p.a.clamp(e-1,0,1)?"none":"block"})},onClick:function(){return d({zoom:1})}},a.a.createElement(j,{id:"mini-mandelbrot",fragShader:x,dpr:e.dpr,u:{zoom:m,pos:s,maxI:f,screenScaleMultiplier:l},ref:t,glRef:i,mini:!0})):a.a.createElement("div",null))}var O=function(e){var n=e.maxI,t=void 0===n?300:n,o=e.AA,a=void 0===o?1:o,r=e.B,i=void 0===r?64:r;return"\n\n#define AA ".concat(a,"\n#define MAXI ").concat(t,"\n#define B ").concat(i.toFixed(1),'\n\n// set high float precision (lower than this may break colours on mobile)\nprecision highp float;\n\n// need to know the resolution of the canvas\nuniform vec2 resolution;\n\n// properties should be passed as uniforms\nuniform int   u_maxI;\nuniform vec2  u_pos;\nuniform vec2  u_c;\nuniform float u_zoom;\nuniform float u_theta;\n\nfloat julia( vec2 z, vec2 c ) {\n\n  float l = 0.0;\n  for( int i=0; i<MAXI; i++ )\n  {\n      z = vec2( z.x*z.x - z.y*z.y, 2.0*z.x*z.y ) + c;\n      if( dot(z,z)>(B*B) ) break;\n      l += 1.0;\n  }\n\n  // maxed out iterations\n  if( l>float(MAXI)-1.0 ) return 0.0;\n\n  // equivalent optimized smooth interation count\n  l = l - log2(log2(dot(z,z))) + 4.0;\n\n  return l;\n}\n\nvoid main() {    \n  // set the initial colour to black\n  vec3 col = vec3(0.0);\n\n  // anti-aliasing\n  #if AA>1\n  for( int m=0; m<AA; m++ )\n  for( int n=0; n<AA; n++ )\n  {\n      vec2 p = (2.0*(gl_FragCoord.xy + vec2(float(m), float(n)) / float(AA) ) - resolution.xy)/resolution.y;\n      float w = float(AA*m+n);\n  #else    \n      // adjust pixels to range from [-1, 1]\n      vec2 p = (2.0*gl_FragCoord.xy - resolution.xy)/resolution.y;\n  #endif\n  \n  // constant "c" to add, based on mandelbrot position\n  vec2 c = u_c;\n  vec2 z = u_pos + p/u_zoom;\n\n  float l = julia(z, c);\n  col += 0.5 + 0.5*cos( 3.0 + l*0.15 + vec3(0.0,0.6,1.0));\n\n  // antialiasing\n  #if AA>1\n  }\n  col /= float(AA*AA);\n  #endif\n\n  // Output to screen\n  gl_FragColor = vec4( col, 1.0 );\n}\n')};function A(e){var n=Object(o.useRef)(null),t=Object(o.useRef)(null),r=Object(o.useRef)(null),i=Object(o.useRef)(null),l=e.screenmult,s=Object(c.a)(e.controls.pos,1)[0].pos,u=Object(c.a)(e.controls.zoom,2),m=u[0].zoom,d=u[1],f=e.maxiter,v=e.aa?2:1,h=O({maxI:f,AA:v}),z=O({maxI:f,AA:2}),x=w({domTarget:n,posControl:e.controls.pos,zoomControl:e.controls.zoom,screenScaleMultiplier:l/e.dpr,gl:r}),E=Object(g.b)(x.binds,x.config);return Object(o.useEffect)(E,[E]),a.a.createElement("div",{className:"renderer",style:{position:"relative"}},a.a.createElement(j,{id:"julia",fragShader:h,dpr:e.dpr,u:{zoom:m,pos:s,c:e.c,maxI:f,screenScaleMultiplier:l},ref:n,glRef:r}),e.enableMini?a.a.createElement(b.a.div,{style:{position:"absolute",zIndex:2,margin:20,left:0,bottom:0,height:e.miniSize[0],width:e.miniSize[0],borderRadius:e.miniSize[0],boxShadow:"0px 2px 10px 1px rgba(0, 0, 0, 0.4)",overflow:"hidden",opacity:m.interpolate(function(e){return p.a.clamp(e-1,0,1)}),display:m.interpolate(function(e){return 0===p.a.clamp(e-1,0,1)?"none":"block"})},onClick:function(){return d({zoom:1})}},a.a.createElement(j,{id:"mini-mandelbrot",fragShader:z,dpr:e.dpr,u:{zoom:m,pos:s,c:e.c,maxI:f,screenScaleMultiplier:l},ref:t,glRef:i,mini:!0})):a.a.createElement("div",null))}var _=t(114),S=t(105),C=t(107),k=t(81),I=t(121),M=t(110),R=t(111),B=t(112),V=t(113),F=t(54),N=t.n(F),T=t(56),q=t.n(T),L=t(55),P=t.n(L),D=Object(S.a)(function(e){return{root:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2),display:"flex",flexDirection:"column",zIndex:2},button:{marginTop:10},sliderControl:{width:30}}});function X(e){var n=D(),t=a.a.useState(null),o=Object(c.a)(t,2),r=o[0],i=o[1];return a.a.createElement("div",{className:n.root},a.a.createElement(C.a,{"aria-controls":"menu",size:"small","aria-haspopup":"true",onClick:function(e){return i(e.currentTarget)},className:n.button},a.a.createElement(N.a,null)),a.a.createElement(k.a,{open:Boolean(r)},a.a.createElement(I.a,{id:"simple-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:function(){return i(null)},anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{vertical:"bottom",horizontal:"right"}},a.a.createElement(u.a,{container:!0,direction:"column",style:{paddingLeft:"1.5em",paddingRight:"1.5em",paddingTop:"1em",paddingBottom:"1em"}},a.a.createElement(u.a,{item:!0,container:!0,alignItems:"center",justify:"space-around"},a.a.createElement(u.a,{item:!0},a.a.createElement(d.a,{variant:"h1",style:{fontSize:20,paddingLeft:20,paddingRight:20}},"Configuration")),a.a.createElement(M.a,{orientation:"vertical",flexItem:!0}),a.a.createElement(u.a,{item:!0},a.a.createElement(R.a,{"aria-label":"info",size:"medium",onClick:function(){e.toggleInfo(),i(null)}},a.a.createElement(P.a,{fontSize:"inherit"})))),e.settings.map(function(e){return a.a.createElement(u.a,{item:!0,key:e.title},a.a.createElement(M.a,{style:{marginTop:10,marginBottom:4}}),a.a.createElement(d.a,{variant:"overline",style:{fontSize:14,marginBottom:4}},e.title),a.a.createElement(B.a,null,Object.values(e.items).map(function(e){return a.a.createElement(V.a,{label:e.name,key:e.name,control:e.ctrl,labelPlacement:e.placement?e.placement:"end",style:e.placement?{marginLeft:0,marginRight:0}:{}})})))}),a.a.createElement(M.a,{style:{marginTop:10,marginBottom:4}}),a.a.createElement(_.a,{"aria-controls":"reset",onClick:function(){return e.reset()},className:n.button,startIcon:a.a.createElement(q.a,null)},"Reset position")))))}var Z=t(4),W=t(118),G=t(115),J=t(116),U=t(117),H=t(57),Q=t.n(H),$=t(119),K=Object(Z.a)(function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}})(function(e){var n=e.children,t=e.classes,o=e.onClose,r=Object(h.a)(e,["children","classes","onClose"]);return a.a.createElement(G.a,Object.assign({disableTypography:!0,className:t.root},r),a.a.createElement(d.a,{variant:"h1",style:{fontSize:30}},n),o?a.a.createElement(R.a,{"aria-label":"close",className:t.closeButton,onClick:o},a.a.createElement(Q.a,null)):null)}),Y=Object(Z.a)(function(e){return{root:{padding:e.spacing(2)}}})(J.a),ee=Object(Z.a)(function(e){return{root:{margin:0,padding:e.spacing(1)}}})(U.a);function ne(e){var n=Object(c.a)(e.ctrl,2),t=n[0],o=n[1],r=function(){return o(!1)};return a.a.createElement(W.a,{onClose:r,"aria-labelledby":"customized-dialog-title",open:t},a.a.createElement(K,{id:"customized-dialog-title",onClose:r},a.a.createElement("img",{alt:"Mandelbrot Maps logo",width:60,src:"https://cdn4.iconfinder.com/data/icons/logos-3/600/React.js_logo-512.png"}),"Mandelbrot Maps"),a.a.createElement(Y,{dividers:!0},a.a.createElement(d.a,{gutterBottom:!0},"Mandelbrot Maps is an interactive fractal explorer built using React and WebGL."),a.a.createElement(d.a,{gutterBottom:!0},"Mandelbrot set shader code adapted from ",a.a.createElement($.a,{href:"https://www.shadertoy.com/view/4df3Rn"},"Mandelbrot - smooth")," by ",a.a.createElement($.a,{href:"http://iquilezles.org/",target:"_blank"},"Inigo Quilez"),".")),a.a.createElement(ee,null,a.a.createElement(_.a,{autoFocus:!0,onClick:r,color:"primary"},"Close")))}var te=function(){var e=function(){var e="object"===typeof window,n=Object(o.useCallback)(function(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}},[e]),t=Object(o.useState)(n),a=Object(c.a)(t,2),r=a[0],i=a[1];return Object(o.useEffect)(function(){if(!e)return function(){};function t(){i(n())}return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}},[n,e]),r}(),n={mass:1,tension:100,friction:200},t=Object(o.useState)(1),r=Object(c.a)(t,2),i=r[0],f=r[1],p=[-.74303,.126433],g=Object(o.useState)(100),v={pos:Object(b.b)(function(){return{pos:p.map(function(e){return e/1e-7}),config:n}}),rot:Object(b.b)(function(){return{theta:0,last_pointer_angle:0,itheta:0,config:n}}),zoom:Object(b.b)(function(){return{zoom:165,last_pointer_dist:0,minZoom:.5,maxZoom:1e5,config:{mass:1,tension:600,friction:50}}})},h={pos:Object(b.b)(function(){return{pos:[0,0],config:n}}),rot:Object(b.b)(function(){return{theta:0,last_pointer_angle:0,itheta:0,config:n}}),zoom:Object(b.b)(function(){return{zoom:.5,last_pointer_dist:0,minZoom:.5,maxZoom:1e5,config:{mass:1,tension:600,friction:50}}})},z={tension:200,friction:75},x={tension:300,friction:60},E=Object(o.useState)(!1),j=Object(c.a)(E,2),w=j[0],O=j[1],_={coords:Object(o.useState)(!1),miniViewer:Object(o.useState)(!0),maxI:Object(o.useState)(250),aa:Object(o.useState)(!1),dpr:Object(o.useState)(!1)},S=[{title:"Interface",items:{miniViewer:{name:"Mini viewers",ctrl:a.a.createElement(l.a,{color:"primary",checked:_.miniViewer[0],onChange:function(){return _.miniViewer[1](!_.miniViewer[0])}})},coords:{name:"Show coordinates",ctrl:a.a.createElement(l.a,{color:"primary",checked:_.coords[0],onChange:function(){return _.coords[1](!_.coords[0])}})}}},{title:"Graphics",items:{iterations:{name:"Iterations",ctrl:a.a.createElement(s.a,{min:5,max:1e3,step:5,defaultValue:250,valueLabelDisplay:"auto",value:_.maxI[0],marks:[{value:5,label:5},{value:250,label:250},{value:500,label:500},{value:750,label:750},{value:1e3,label:1e3}],onChange:function(e,n){return _.maxI[1](n)}}),placement:"top"},dpr:{name:"Use pixel ratio (".concat(window.devicePixelRatio||1,")"),ctrl:a.a.createElement(l.a,{checked:_.dpr[0],color:"primary",onChange:function(){var e=!_.dpr[0];f(e?window.devicePixelRatio:1),_.dpr[1](e)}})},aa:{name:"Anti-aliasing (slow)",ctrl:a.a.createElement(l.a,{color:"primary",checked:_.aa[0],onChange:function(){return _.aa[1](!_.aa[0])}})}}}];return a.a.createElement(u.a,{container:!0},a.a.createElement(u.a,{item:!0,container:!0,direction:e.width<e.height?"column-reverse":"row",justify:"center",className:"fullSize",style:{position:"absolute"}},a.a.createElement(m.a,{style:{width:"auto",position:"absolute",zIndex:2,right:0,top:0,margin:20,padding:8,display:_.coords[0]?"block":"none"}},a.a.createElement(d.a,{align:"right"},a.a.createElement(b.a.span,null,v.pos[0].pos.interpolate(function(e){return(1e-7*e).toFixed(7)}))," : x",a.a.createElement("br",null),a.a.createElement(b.a.span,null,v.pos[0].pos.interpolate(function(e,n){return(1e-7*n).toFixed(7)}))," : y")),a.a.createElement(u.a,{item:!0,xs:!0,className:"renderer"},a.a.createElement(y,{controls:v,maxiter:_.maxI[0],screenmult:1e-7,miniSize:g,enableMini:_.miniViewer[0],aa:_.aa[0],dpr:i})),a.a.createElement(u.a,{item:!0,xs:!0,className:"renderer"},a.a.createElement(A,{c:v.pos[0].pos,controls:h,maxiter:_.maxI[0],screenmult:1e-7,miniSize:g,enableMini:_.miniViewer[0],aa:_.aa[0],dpr:i}))),a.a.createElement(X,{settings:S,reset:function(){return v.pos[1]({pos:[0,0],config:z}),v.zoom[1]({zoom:1,config:x}),h.pos[1]({pos:[0,0],config:z}),void h.zoom[1]({zoom:1,config:x})},toggleInfo:function(){return O(!w)}}),a.a.createElement(ne,{ctrl:[w,O]}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[65,1,2]]]);
//# sourceMappingURL=main.aa84af25.chunk.js.map