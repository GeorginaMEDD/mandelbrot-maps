(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,n){e.exports=n(50)},40:function(e,t,n){},41:function(e,t,n){},49:function(e,t,n){e.exports=n.p+"static/media/smooth_mandelbrot_shader.d018da26.glsl"},50:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(23),i=n.n(a),c=(n(40),n(3)),l=(n(41),n(67)),u=n(51),s=n(68),f=n(65);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=r.a.createElement("path",{d:"M11 11v-11h1v11h11v1h-11v11h-1v-11h-11v-1h11z"}),g=function(e){var t=e.svgRef,n=v(e,["svgRef"]);return r.a.createElement("svg",m({width:24,height:24,fillRule:"evenodd",clipRule:"evenodd",ref:t},n),d)},h=r.a.forwardRef(function(e,t){return r.a.createElement(g,m({svgRef:t},e))});n.p;function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var y=r.a.createElement("path",{d:"M0 12v1h23v-1h-23z"}),O=function(e){var t=e.svgRef,n=b(e,["svgRef"]);return r.a.createElement("svg",p({width:24,height:24,fillRule:"evenodd",clipRule:"evenodd",ref:t},n),y)},j=r.a.forwardRef(function(e,t){return r.a.createElement(O,p({svgRef:t},e))}),x=(n.p,n(2));function z(e){var t=e.children,n=Object(x.a)(e,["children"]);return r.a.createElement(s.a,Object.assign({style:{backgroundColor:"transparent",boxShadow:"none"}},n),t)}var w=n(8),E=n(15),_=n(19),C=n.n(_);function R(e){var t=Object(c.a)(e.controller,2),n=t[0],o=n.zoom,a=n.minZoom,i=n.maxZoom,l=t[1],s=function(e){var t=Math.sign(e)*(.1*o.getValue()+1);l({zoom:Object(_.clamp)(o.getValue()+t,a.getValue(),i.getValue())})};return r.a.createElement("div",{className:"Control",style:{width:70,display:"flex",zIndex:10}},r.a.createElement(u.a,{style:{borderRadius:"5em",maxHeight:240,margin:"auto",display:"flex",flexDirection:"column-reverse",justifyContent:"space-between"}},r.a.createElement(z,{onClick:function(e){e.preventDefault(),s(-1)}},r.a.createElement(j,null)),r.a.createElement("div",{style:{height:70,position:"relative"}},r.a.createElement(V,{diameter:70,zoom:o,zoomControl:l,minZoom:a,maxZoom:i})),r.a.createElement(z,{onClick:function(e){e.preventDefault(),s(1)}},r.a.createElement(h,null))))}function V(e){var t=Object(w.b)(function(){return{y:0,config:{friction:30,tension:400}}}),n=Object(c.a)(t,2),a=n[0].y,i=n[1],l=[e.zoom,e.zoomControl],u=l[0],m=l[1],v=Object(o.useState)(!1),d=Object(c.a)(v,2),g=d[0],h=d[1],p=Object(o.useState)(1),b=Object(c.a)(p,2),y=b[0],O=b[1],j=r.a.useRef(null);!function(e,t){var n=Object(o.useRef)();Object(o.useEffect)(function(){n.current=e}),Object(o.useEffect)(function(){if(null!==t){var e=setInterval(function(){n.current()},t);return function(){return clearInterval(e)}}},[t])}(function(){var t=u.getValue(),n=Object(_.clamp)(t+6e-5*Math.pow(t,.8)*y,e.minZoom.getValue(),e.maxZoom.getValue());m({zoom:n}),O(1.02*y)},g?100:null);var x=Object(E.b)(function(e){var t=e.down,n=Object(c.a)(e.movement,2),o=(n[0],n[1]),r=e.event,a=e.first,l=e.last;!a&&!l&&r.preventDefault(),h(t);var u=Object(_.clamp)(o,-80,80);O(t?-Math.sign(u)*Math.pow(Math.abs(u/8),4):0),i({y:t?u:0})},{event:{passive:!1,capture:!1},domTarget:j});return r.a.useEffect(x,[x]),r.a.createElement(w.a.div,{ref:j,style:{transform:a.interpolate(function(e){return"translateY(".concat(e,"px)")}),borderRadius:"50rem",width:e.diameter,height:e.diameter,marginLeft:-e.diameter/2,marginTop:-e.diameter/2,top:"50%",left:"50%",position:"absolute",zIndex:1}},r.a.createElement(s.a,{onClick:function(e){0===a.getValue()&&m({zoom:1})},style:{backgroundColor:"#2196f3",width:e.diameter,height:e.diameter}},r.a.createElement(f.a,{style:{color:"#fff"}},r.a.createElement(w.a.span,null,u.interpolate(function(e){return e.toPrecision(6)})))))}var k=n(69);function A(e){var t=Object(c.a)(e.maxiter,2),n=t[0],o=t[1];return r.a.createElement(k.a,Object.assign({defaultValue:n,valueLabelDisplay:"on",step:1,min:1,max:300,style:{width:200,margin:30},onChange:function(e,t){return o(t)}},e))}function F(e){var t=Object(c.a)(e.controller,2),n=t[0],o=n.theta,a=n.itheta,i=t[1],l=function(e){return(e%360+360)%360},m=function(e){return 360*e/(2*Math.PI)},v={x:0,y:0,width:0,height:0},d=Object(E.b)(function(e){var t=Object(c.a)(e.xy,2),n=t[0],r=t[1],u=Object(c.a)(e.initial,2),s=u[0],f=u[1],d=e.first,g=e.memo,h=void 0===g?o.getValue():g,p=v.x+v.width/2,b=v.y+v.height/2;if(d)return i({theta:h,itheta:m(Math.atan2(-(s-p),f-b))}),h;var y=m(Math.atan2(-(n-p),r-b));return i({theta:h+l(y-a.getValue()),immediate:!0}),h});return r.a.createElement("div",Object.assign({style:{width:160,height:160,display:"flex",position:"relative",zIndex:2}},e),r.a.createElement(u.a,Object.assign({},d(),{ref:function(e){if(e){var t=e.getBoundingClientRect();v={x:t.x,y:t.y,width:t.width,height:t.height}}},style:{borderRadius:"50rem",width:160,height:160}}),r.a.createElement(w.a.div,{style:{transform:o.interpolate(function(e){return"rotate(".concat(e,"deg)")}),width:"100%",height:"100%",display:"flex",justifyContent:"center"}},r.a.createElement(f.a,{style:{userSelect:"none"}},"(N)"))),r.a.createElement(s.a,{style:{width:70,height:70,borderRadius:"50rem",backgroundColor:"#2196f3",display:"flex",position:"absolute",left:"50%",top:"50%",margin:-35}},r.a.createElement(f.a,{style:{color:"#fff",margin:"auto"}},r.a.createElement(w.a.span,null,o.interpolate(function(e){return l(e).toFixed(0)})),"\xb0")))}n(48);var I=n(66),M=n(20),P=n(10),S="\nattribute vec4 position;\n\nvoid main() {\n  gl_Position = position;\n}\n",D={position:[-1,-1,0,1,-1,0,-1,1,0,-1,1,0,1,-1,0,1,1,0]},Z='\n// Created by inigo quilez - iq/2013\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\n\n// See here for more information on smooth iteration count:\n//\n// http://iquilezles.org/www/articles/mset_smooth/mset_smooth.htm\n\n// TODO: make parameter\n#define AA 1\n#define MAXI 200\n\n// crosshair parameters\n#define cross_stroke 2.\n#define cross_size   70.\n\n// set high float precision (lower than this may break colours on mobile)\nprecision highp float;\n\n// need to know the resolution of the canvas\nuniform vec2 resolution;\n\n// properties should be passed as uniforms\nuniform int   u_maxI;  \nuniform vec2  u_pos;\nuniform float u_zoom;\nuniform float u_theta;\n\n\n\nvoid main() {    \n    // set the initial colour to black\n    vec3 col = vec3(0.0);\n\n    // anti-aliasing\n    #if AA>1\n    for( int m=0; m<AA; m++ )\n    for( int n=0; n<AA; n++ )\n    {\n        // vec2 p = (-iResolution.xy + 2.0*(fragCoord.xy+vec2(float(m),float(n))/float(AA)))/iResolution.y;\n        vec2 p = (2.0*(gl_FragCoord.xy + vec2(float(m), float(n)) / float(AA) ) - resolution.xy)/resolution.y;\n        float w = float(AA*m+n);\n    #else    \n        // adjust pixels to range from [-1, 1]\n        vec2 p = (2.0*gl_FragCoord.xy - resolution.xy)/resolution.y;\n    #endif\n\n    // vec2 p = (2.0*gl_FragCoord.xy - resolution.xy)/resolution.y;\n    \n    // float theta = 0.7;\n    \n    // calculate sin/cos (tbd)\n    // float coa = cos(theta);\n    // float sia = sin(theta);\n    // float coa = cos(u_theta);\n    // float sia = sin(u_theta);    \n    \n    \n\n\n        // use to rotate viewer (tbd)\n        // vec2 xy = vec2(p.x*coa-p.y*sia, p.x*sia+p.y*coa);\n        vec2 xy = p;\n        vec2 c = u_pos + xy/u_zoom;\n\n        // smoothing factor (original = 256.0)\n        const float B = 32.0;\n        float l = 0.0;\n        vec2 z  = vec2(0.0);\n        for( int i=0; i<MAXI; i++ )\n        {\n            // z = z*z + c\t\t\n            z = vec2( z.x*z.x - z.y*z.y, 2.0*z.x*z.y ) + c;\n\n            if( dot(z,z)>(B*B) ) break;\n\n            l += 1.0;\n        }\n        \n        // log2 is undefined for dot(z,z) = 0; strange colouring in bulbs otherwise\n        float dz = dot(z,z);\n        if (dz > 1.0) {\n            l = l - log2(log2(dz)) + 4.0; \n            //    a 0.405 multiplier here  vvvv  also looks good\n            col += 0.5 + 0.5*cos( 3.0 +  l*0.15 + vec3(0.0, 0.6, 1.0));\n        }\n\n    #if AA>1\n    }\n    col /= float(AA*AA);\n    #endif\n\n\n    \n    if (\n        // 1px crosshair in centre of screen\n        (abs(2.0*gl_FragCoord.x - resolution.x) <= cross_stroke || abs(2.0*gl_FragCoord.y - resolution.y) <= cross_stroke)\n        &&\n        // crosshair size / "radius"\n        (abs(2.0*gl_FragCoord.x - resolution.x) <= cross_size && abs(2.0*gl_FragCoord.y - resolution.y) <= cross_size)\n    ) {\n        col = .9 - col;\n    }\n\n    // Output to screen\n    gl_FragColor = vec4( col, 1.0 );\n}\n';n(49);function B(e){var t=Object(o.useRef)(null),n=Object(o.useRef)(null),a=Object(o.useRef)(null),i=Object(o.useRef)(null),l=Object(o.useRef)(null),u=e.screenmult,s=Object(c.a)(e.controls.pos,2),m=s[0],v=m.pos,d=(m.realPos,s[1]),g=Object(c.a)(e.controls.rot,2),h=g[0],p=h.theta,b=h.last_pointer_angle,y=g[1],O=Object(c.a)(e.controls.zoom,2),j=O[0],x=j.zoom,z=j.last_pointer_dist,_=j.minZoom,R=j.maxZoom,V=O[1],k=e.maxiter,A=Object(E.c)({onDragStart:function(e){return e.event.preventDefault()},onPinchStart:function(e){return e.event.preventDefault()},onPinch:function(e){var t=Object(c.a)(e.offset,2),n=t[0],o=t[1],r=e.down,a=Object(c.a)(e.vdva,2),i=(a[0],a[1],e.last,e.memo),l=void 0===i?[p.getValue(),b.getValue(),x.getValue(),z.getValue()]:i,u=Object(c.a)(l,4),s=u[0],f=u[1],m=u[2],v=u[3];console.log(n);var d=n/250,g=x.getValue();return V({zoom:C.a.clamp(m+(d-v)*Math.sign(g)*Math.abs(Math.pow(g,.9)),_.getValue(),R.getValue()),last_pointer_dist:d,immediate:r}),y({theta:s+(o-f),last_pointer_angle:o,immediate:r}),l},onPinchEnd:function(e){var t=Object(c.a)(e.vdva,2),n=(t[0],t[1]);y({theta:n,config:{velocity:n,decay:!0}})},onDrag:function(e){var t=e.down,o=e.movement,r=e.velocity,a=e.direction,i=e.memo,c=void 0===i?v.getValue():i,l=n.current.canvas.height*x.getValue()*u,s=Object(M.scale)(o,2/l),f=[s[0],-s[1]],m=[a[0],-a[1]];return d({pos:Object(E.a)(c,f),immediate:t,config:{velocity:Object(M.scale)(m,r/l),decay:!0}}),c}},{event:{passive:!1,capture:!1},domTarget:l});Object(o.useEffect)(A,[A]);var F=Object(o.useCallback)(function(e){P.d(n.current.canvas),n.current.viewport(0,0,n.current.canvas.width,n.current.canvas.height);var o={resolution:[n.current.canvas.width,n.current.canvas.height],u_zoom:x.getValue(),u_pos:Object(M.scale)(v.getValue(),-u),u_maxI:k};n.current.useProgram(i.current.program),P.e(n.current,i.current,a.current),P.f(i.current,o),P.c(n.current,a.current),t.current=requestAnimationFrame(F)},[k,v,u,x]);return Object(o.useEffect)(function(){return n.current=l.current.getContext("webgl"),console.log("got canvas context: ".concat(n.current)),i.current=P.b(n.current,[S,Z]),a.current=P.a(n.current,D),t.current=requestAnimationFrame(F),function(){return cancelAnimationFrame(t.current)}},[F]),r.a.createElement(o.Fragment,null,r.a.createElement(I.a,{style:{width:"auto",position:"absolute",zIndex:2,left:0,bottom:0,margin:20,padding:5}},r.a.createElement(f.a,{align:"right"},r.a.createElement(w.a.span,null,v.interpolate(function(e,t){return(-e*u).toFixed(7)}))," : x",r.a.createElement("br",null),r.a.createElement(w.a.span,null,v.interpolate(function(e,t){return(-t*u).toFixed(7)}))," : y")),r.a.createElement("canvas",{id:"mandelbrot",className:"renderer",style:{},ref:l}))}var N="\n#define maxI 200\n\n// set high float precision (lower than this may break colours on mobile)\nprecision highp float;\n\n// need to know the resolution of the canvas\nuniform vec2 resolution;\n\n// properties should be passed as uniforms\nuniform int   u_maxI;  \nuniform vec2  u_pos;\nuniform float u_zoom;\nuniform float u_theta;\n\n// void mainImage( out vec4 fragColor, in vec2 fragCoord )\n// {\n// \tvec2 uv = fragCoord.xy - iResolution.xy * 0.5;\n// \tuv *= 2.5 / min( iResolution.x, iResolution.y );\n// \tvec2 c = vec2( 0.37+cos(iTime*1.23462673423)*0.04, sin(iTime*1.43472384234)*0.10+0.50);\n// \tvec2 z = uv;\n// \tfloat scale = 0.01;\n//  float l = 0.0;\n// \tfor ( int i = 0 ; i < maxI; i++ ) {\n// \t\tz = c + vec2( z.x*z.x-z.y*z.y, 2.0*z.x*z.y );\n// \t\tif ( dot( z, z ) > 4.0 ) {\n// \t\t\tbreak;\n// \t\t}\n//         l += 1.0;\n// \t}\n//     float sl = l - log2(log2(dot(z,z))) + 4.0; \n// \tvec3 col = vec3(0.5) + 0.5*cos( 3.0 + sl*0.15 + vec3(0.0,0.6,1.0));\n// \tfragColor = vec4(col, 0);\n// }\n\nvoid main() {    \n  // set the initial colour to black\n  vec3 col = vec3(0.0);\n\n  // adjust pixels to range from [-1, 1]\n  vec2 p = (2.0*gl_FragCoord.xy - resolution.xy)/resolution.y;\n  \n  vec2 xy = p;\n  vec2 c = u_pos;  \n\n  // smoothing factor (original = 256.0)\n  const float B = 32.0;\n  float l = 0.0;\n  vec2  z = p;\n  for( int i=0; i<200; i++ ) {\n      // z = z*z + c\t\t\n      z = vec2( z.x*z.x - z.y*z.y, 2.0*z.x*z.y ) + c;\n\n      if( dot(z,z)>(B*B) ) break;\n\n      l += 1.0;\n  }\n  \n  // float al = smoothstep( -0.1, 0.0, 1.0);\n  // log2 is undefined for dot(z,z) = 0; strange colouring in bulbs otherwise\n  float dz = dot(z,z);\n  if (dz > 1.0) {\n      l = l - log2(log2(dz)) + 4.0; \n      //    a 0.405 multiplier here  vvvv  also looks good\n      col += 0.5 + 0.5*cos( 3.0 +  l*0.15 + vec3(0.0, 0.6, 1.0));\n  }\n\n  // Output to screen\n  gl_FragColor = vec4( col, 1.0 );\n  // gl_FragColor = vec4( vec3(1.0), 1.0 );\n}\n";function q(e){var t=Object(o.useRef)(null),n=Object(o.useRef)(null),a=Object(o.useRef)(null),i=Object(o.useRef)(null),l=(Object(o.useRef)(null),Object(o.useRef)(null)),u=Object(c.a)(e.controls.pos,2),s=u[0].pos,f=u[1],m=Object(c.a)(e.controls.rot,2),v=m[0],d=v.theta,g=v.last_pointer_angle,h=m[1],p=Object(c.a)(e.controls.zoom,2),b=p[0],y=b.zoom,O=b.last_pointer_dist,j=b.minZoom,x=b.maxZoom,z=p[1],w=e.maxiter,_=Object(E.c)({onDragStart:function(e){return e.event.preventDefault()},onPinchStart:function(e){return e.event.preventDefault()},onPinch:function(e){var t=Object(c.a)(e.offset,2),n=t[0],o=t[1],r=e.down,a=Object(c.a)(e.vdva,2),i=(a[0],a[1],e.last,e.memo),l=void 0===i?[d.getValue(),g.getValue(),y.getValue(),O.getValue()]:i,u=Object(c.a)(l,4),s=u[0],f=u[1],m=u[2],v=u[3];console.log(n);var p=n/250,b=y.getValue();return z({zoom:C.a.clamp(m+(p-v)*Math.sign(b)*Math.abs(Math.pow(b,.9)),j.getValue(),x.getValue()),last_pointer_dist:p,immediate:r}),h({theta:s+(o-f),last_pointer_angle:o,immediate:r}),l},onPinchEnd:function(e){var t=Object(c.a)(e.vdva,2),n=(t[0],t[1]);h({theta:n,config:{velocity:n,decay:!0}})},onDrag:function(e){var t=e.down,o=e.movement,r=e.velocity,a=e.direction,i=e.memo,c=void 0===i?s.getValue():i,l=n.current.canvas.height*y.getValue()*-1e-7,u=Object(M.scale)(o,2/l),m=[u[0],-u[1]],v=[a[0],-a[1]];return f({pos:Object(E.a)(c,m),immediate:t,config:{velocity:Object(M.scale)(v,r/l),decay:!0}}),c}},{event:{passive:!1,capture:!1},domTarget:l});Object(o.useEffect)(_,[_]);var R=Object(o.useCallback)(function(e){P.d(n.current.canvas),n.current.viewport(0,0,n.current.canvas.width,n.current.canvas.height);var o={resolution:[n.current.canvas.width,n.current.canvas.height],u_zoom:y.getValue(),u_pos:Object(M.scale)(s.getValue(),1e-7),u_maxI:w};n.current.useProgram(i.current.program),P.e(n.current,i.current,a.current),P.f(i.current,o),P.c(n.current,a.current),t.current=requestAnimationFrame(R)},[w,s,-1e-7,y]);return Object(o.useEffect)(function(){return n.current=l.current.getContext("webgl"),console.log("got canvas context: ".concat(n.current)),i.current=P.b(n.current,[S,N]),a.current=P.a(n.current,D),t.current=requestAnimationFrame(R),function(){return cancelAnimationFrame(t.current)}},[R]),r.a.createElement("canvas",{id:"julia",className:"renderer",style:{zIndex:1},ref:l})}var T=function(){var e=function(){var e="object"===typeof window;function t(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}var n=Object(o.useState)(t),r=Object(c.a)(n,2),a=r[0],i=r[1];return Object(o.useEffect)(function(){if(e)return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)};function n(){i(t())}},[]),a}(),t={mass:1,tension:100,friction:200},n=Object(o.useState)(100),a=Object(c.a)(n,2),i=a[0],u=(a[1],[-.74303,.126433]),s={pos:Object(w.b)(function(){return{pos:u.map(function(e){return-e/-1e-7}),config:t}}),rot:Object(w.b)(function(){return{theta:0,last_pointer_angle:0,itheta:0,config:t}}),zoom:Object(w.b)(function(){return{zoom:165,last_pointer_dist:0,minZoom:.5,maxZoom:1e5,config:{mass:1,tension:600,friction:50}}})};return r.a.createElement(o.Fragment,null,r.a.createElement(l.a,{container:!0,direction:e.width<e.height?"column":"row",justify:"center",className:"fullSize",style:{position:"absolute"}},r.a.createElement(l.a,{item:!0,xs:!0,className:"renderer"},r.a.createElement(B,{controls:s,maxiter:i,screenmult:-1e-7})),r.a.createElement(l.a,{item:!0,xs:!0,className:"renderer"},r.a.createElement(q,{controls:s,maxiter:i}))),r.a.createElement(l.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"flex-end"},r.a.createElement(R,{controller:s.zoom}),r.a.createElement(F,{className:"Control",controller:s.rot,style:{display:"none"}}),r.a.createElement(A,{maxiter:n,style:{display:"none"}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,1,2]]]);
//# sourceMappingURL=main.2a76faf9.chunk.js.map