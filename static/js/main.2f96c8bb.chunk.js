(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,n){e.exports=n(47)},38:function(e,t,n){},39:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(17),c=n.n(o),i=(n(38),n(6)),l=(n(39),n(66)),u=n(67),f=n(48),s=n(61),m=n(63);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var h=r.a.createElement("path",{d:"M11 11v-11h1v11h11v1h-11v11h-1v-11h-11v-1h11z"}),g=function(e){var t=e.svgRef,n=v(e,["svgRef"]);return r.a.createElement("svg",d({width:24,height:24,fillRule:"evenodd",clipRule:"evenodd",ref:t},n),h)},p=r.a.forwardRef(function(e,t){return r.a.createElement(g,d({svgRef:t},e))});n.p;function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function O(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var y=r.a.createElement("path",{d:"M0 12v1h23v-1h-23z"}),j=function(e){var t=e.svgRef,n=O(e,["svgRef"]);return r.a.createElement("svg",b({width:24,height:24,fillRule:"evenodd",clipRule:"evenodd",ref:t},n),y)},E=r.a.forwardRef(function(e,t){return r.a.createElement(j,b({svgRef:t},e))}),x=(n.p,n(29));function w(e){var t=e.children,n=Object(x.a)(e,["children"]);return r.a.createElement(s.a,Object.assign({style:{backgroundColor:"transparent",boxShadow:"none"}},n),t)}var R=n(11),V=n(14),z=n(15),C=n.n(z);function I(e){var t=Object(i.a)(e.controller,2),n=t[0],a=n.zoom,o=n.minZoom,c=n.maxZoom,l=t[1],u=function(e){var t=Math.sign(e)*(.1*a.getValue()+1);l({zoom:Object(z.clamp)(a.getValue()+t,o.getValue(),c.getValue())})};return r.a.createElement("div",{className:"Control",style:{width:70,display:"flex",zIndex:2}},r.a.createElement(f.a,{style:{borderRadius:"5em",maxHeight:240,margin:"auto",display:"flex",flexDirection:"column-reverse",justifyContent:"space-between"}},r.a.createElement(w,{onClick:function(e){e.preventDefault(),u(-1)}},r.a.createElement(E,null)),r.a.createElement("div",{style:{height:70,position:"relative"}},r.a.createElement(M,{diameter:70,zoom:a,zoomControl:l,minZoom:o,maxZoom:c})),r.a.createElement(w,{onClick:function(e){e.preventDefault(),u(1)}},r.a.createElement(p,null))))}function M(e){var t=Object(R.b)(function(){return{y:0,config:{friction:30,tension:400}}}),n=Object(i.a)(t,2),o=n[0].y,c=n[1],l=[e.zoom,e.zoomControl],u=l[0],f=l[1],d=Object(a.useState)(!1),v=Object(i.a)(d,2),h=v[0],g=v[1],p=Object(a.useState)(1),b=Object(i.a)(p,2),O=b[0],y=b[1],j=r.a.useRef(null);!function(e,t){var n=Object(a.useRef)();Object(a.useEffect)(function(){n.current=e}),Object(a.useEffect)(function(){if(null!==t){var e=setInterval(function(){n.current()},t);return function(){return clearInterval(e)}}},[t])}(function(){var t=u.getValue(),n=Object(z.clamp)(t+6e-5*Math.pow(t,.8)*O,e.minZoom.getValue(),e.maxZoom.getValue());f({zoom:n}),y(1.02*O)},h?100:null);var E=Object(V.b)(function(e){var t=e.down,n=Object(i.a)(e.movement,2),a=(n[0],n[1]),r=e.event,o=e.first,l=e.last;!o&&!l&&r.preventDefault(),g(t);var u=Object(z.clamp)(a,-80,80);y(t?-Math.sign(u)*Math.pow(Math.abs(u/8),4):0),c({y:t?u:0})},{event:{passive:!1,capture:!1},domTarget:j});return r.a.useEffect(E,[E]),r.a.createElement(R.a.div,{ref:j,style:{transform:o.interpolate(function(e){return"translateY(".concat(e,"px)")}),borderRadius:"50rem",width:e.diameter,height:e.diameter,marginLeft:-e.diameter/2,marginTop:-e.diameter/2,top:"50%",left:"50%",position:"absolute",zIndex:1}},r.a.createElement(s.a,{onClick:function(e){0===o.getValue()&&f({zoom:1})},style:{backgroundColor:"#2196f3",width:e.diameter,height:e.diameter}},r.a.createElement(m.a,{style:{color:"#fff"}},r.a.createElement(R.a.span,null,u.interpolate(function(e){return e.toPrecision(5)})))))}var k=n(68);function S(e){return r.a.createElement(k.a,{defaultValue:e.maxIter,valueLabelDisplay:"on",step:1,min:1,max:300,style:{width:200,margin:30},onChange:function(t,n){return e.setMaxIter(n)}})}function _(e){var t=Object(i.a)(e.controller,2),n=t[0],a=n.theta,o=n.itheta,c=t[1],l=function(e){return(e%360+360)%360},u=function(e){return 360*e/(2*Math.PI)},d={x:0,y:0,width:0,height:0},v=Object(V.b)(function(e){var t=Object(i.a)(e.xy,2),n=t[0],r=t[1],f=Object(i.a)(e.initial,2),s=f[0],m=f[1],v=e.first,h=e.memo,g=void 0===h?a.getValue():h,p=d.x+d.width/2,b=d.y+d.height/2;if(v)return c({theta:g,itheta:u(Math.atan2(-(s-p),m-b))}),g;var O=u(Math.atan2(-(n-p),r-b));return c({theta:g+l(O-o.getValue()),immediate:!0}),g});return r.a.createElement("div",Object.assign({style:{width:160,height:160,display:"flex",position:"relative",zIndex:2}},e),r.a.createElement(f.a,Object.assign({},v(),{ref:function(e){if(e){var t=e.getBoundingClientRect();d={x:t.x,y:t.y,width:t.width,height:t.height}}},style:{borderRadius:"50rem",width:160,height:160}}),r.a.createElement(R.a.div,{style:{transform:a.interpolate(function(e){return"rotate(".concat(e,"deg)")}),width:"100%",height:"100%",display:"flex",justifyContent:"center"}},r.a.createElement(m.a,{style:{userSelect:"none"}},"(N)"))),r.a.createElement(s.a,{style:{width:70,height:70,borderRadius:"50rem",backgroundColor:"#2196f3",display:"flex",position:"absolute",left:"50%",top:"50%",margin:-35}},r.a.createElement(m.a,{style:{color:"#fff",margin:"auto"}},r.a.createElement(R.a.span,null,a.interpolate(function(e){return l(e).toFixed(0)})),"\xb0")))}n(46);var P=n(64),D=n(65),Z=n(28);function F(e){var t=Object(a.useRef)(null),n=Object(a.useRef)(null),o=Object(a.useState)(null),c=Object(i.a)(o,2),l=c[0],u=c[1],f=400,s=e.maxiter,d=Object(i.a)(e.pos,2),v=d[0].pos,h=d[1],g=Object(i.a)(e.rot,2),p=g[0],b=p.theta,O=p.last_pointer_angle,y=g[1],j=Object(i.a)(e.zoom,2),E=j[0],x=E.zoom,w=E.last_pointer_dist,z=E.minZoom,I=E.maxZoom,M=j[1],k=Object(a.useState)(0),S=Object(i.a)(k,2),_=S[0],F=S[1];function B(e,t,n){var a=(t-e)/n;return C.a.range(e,t,a)}var N=function(e){if(null!=l){var t=e||l,a=300*x.getValue();!function(e){var t=n.current;e.clearRect(0,0,t.width,t.height)}(t);var r=v.getValue(),o=Object(i.a)(r,2),c=o[0],u=o[1];console.log("x: ".concat(c,", y: ").concat(u));var m=[f,f].map(function(e){return e/(2*a)}),d=Object(i.a)(m,2),h=d[0],g=d[1];console.log("xmin: ".concat(c-h,", xmax: ").concat(c+h));var p=[-1,1].map(function(e){return c+e*h}),b=Object(i.a)(p,2),O=b[0],y=b[1],j=[-1,1].map(function(e){return u+e*g}),E=Object(i.a)(j,2),w=E[0],R=E[1];B(O,y,f).forEach(function(e,n){B(w,R,f).forEach(function(a,r){for(var o,c=0,i=0,l=0,u=0,f=0,m=0;m<s;m++){var d=[u-f+e,2*i*l+a];if(c=m,(u=(i=d[0])*i)+(f=(l=d[1])*l)>4)break}t.fillStyle="hsl(0, 0%, ".concat((o=c,100-Math.round(100*o/s)),"%)"),t.fillRect(n,r,1,1)})}),console.log("render complete!")}},T=Object(V.c)({onPinchStart:function(e){return e.event.preventDefault()},onPinch:function(e){var t=Object(i.a)(e.offset,2),n=t[0],a=t[1],r=e.down,o=Object(i.a)(e.vdva,2),c=(o[0],o[1],e.last,e.memo),l=void 0===c?[b.getValue(),O.getValue(),x.getValue(),w.getValue()]:c,u=Object(i.a)(l,4),f=u[0],s=u[1],m=u[2],d=u[3];console.log(n);var v=n/250,h=x.getValue();return M({zoom:C.a.clamp(m+(v-d)*Math.sign(h)*Math.abs(Math.pow(h,.9)),z.getValue(),I.getValue()),last_pointer_dist:v,immediate:r}),y({theta:f+(a-s),last_pointer_angle:a,immediate:r}),l},onPinchEnd:function(e){var t=Object(i.a)(e.vdva,2),n=(t[0],t[1]);y({theta:n,config:{velocity:n,decay:!0}})},onDragStart:function(e){return e.event.preventDefault()},onDrag:function(e){var t=e.down,n=e.movement,a=e.velocity,r=e.direction,o=e.memo,c=void 0===o?v.getValue():o,i=300*x.getValue(),l=n.map(function(e){return-e/i});return h({pos:Object(V.a)(l,c),immediate:t,config:{velocity:Object(Z.scale)(r,-a/i),decay:!0}}),c},onDragEnd:function(){N(l)}},{event:{passive:!1,capture:!1},domTarget:t});return Object(a.useEffect)(T,[T]),Object(a.useEffect)(function(){var e=n.current.getContext("2d");console.log("got canvas context: ".concat(e)),u(e)},[]),Object(a.useEffect)(function(){N(l)},[l]),r.a.createElement(a.Fragment,null,r.a.createElement("div",{style:{position:"absolute",zIndex:1},ref:t},r.a.createElement(R.a.canvas,{id:"mandelbrot",width:f,height:f,rotation:b.interpolate(function(e){return"".concat(e)}),style:{width:1*f,height:1*f},ref:n}),r.a.createElement(R.a.div,{style:{display:"none",width:20,height:20,backgroundColor:"red",position:"absolute",top:290,left:290,transform:v.interpolate(function(e,t){return"translate(".concat(300*-e*x.getValue(),"px, ").concat(300*-t*x.getValue(),"px)")})}})),r.a.createElement("div",{style:{position:"absolute",bottom:0}},r.a.createElement(P.a,null,r.a.createElement(m.a,{style:{zIndex:1}},"theta: ",r.a.createElement(R.a.span,null,b.interpolate(function(e){return e.toFixed(3)})),", zoom: ",r.a.createElement(R.a.span,null,x.interpolate(function(e){return e.toFixed(3)})),",")),r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:function(e){var t=performance.now();N();var n=performance.now()-t;console.log("rendered in ".concat(n)),F(n)}},"render"),r.a.createElement(m.a,null,"render time: ",_.toFixed(4))))}var B=function(){var e={mass:1,tension:100,friction:200},t=Object(a.useState)(45),n=Object(i.a)(t,2),o=n[0],c=n[1],f=Object(R.b)(function(){return{pos:[-.74303,-.126433],onRest:function(){},config:e}}),s=Object(R.b)(function(){return{theta:0,last_pointer_angle:0,itheta:0,config:e}}),m=Object(R.b)(function(){return{zoom:1,last_pointer_dist:0,minZoom:.5,maxZoom:1e5,config:{mass:1,tension:600,friction:50}}});return r.a.createElement(a.Fragment,null,r.a.createElement(F,{style:{position:"absolute",zIndex:0},pos:f,rot:s,zoom:m,maxiter:o}),r.a.createElement(l.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"flex-end"},r.a.createElement(I,{controller:m}),r.a.createElement(_,{className:"Control",controller:s,style:{display:"none"}}),r.a.createElement(S,{maxIter:o,setMaxIter:c}),r.a.createElement(u.a,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.2f96c8bb.chunk.js.map