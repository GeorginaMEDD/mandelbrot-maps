(this["webpackJsonpmandelbrot-maps"]=this["webpackJsonpmandelbrot-maps"]||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(13),i=n.n(r),c=(n(98),n(8)),l=n(153),s=n(150),u=n(16),m=n(28),f=(n(99),n(131)),d=n(132),g=n(60),b=function(e){return o.a.createElement(f.a,{in:e.show},o.a.createElement(d.a,{style:{width:"auto",position:"absolute",zIndex:1300,right:0,top:0,margin:20,padding:"6px 12px"}},o.a.createElement(g.a,{align:"right",style:{fontFamily:"monospace",fontSize:"1.2rem"}},o.a.createElement(u.a.span,null,e.mandelbrot.interpolate((function(t,n){return"".concat((t*e.screenScaleMultiplier).toFixed(7)," : x")}))),o.a.createElement("br",null),o.a.createElement(u.a.span,null,e.mandelbrot.interpolate((function(t,n){return"".concat((n*e.screenScaleMultiplier).toFixed(7)," : y")}))))))},p=n(56),h=n(4),v=n(147),y=n(138),w=n(134),x=n(136),E=n(137),j=n(135),O=n(73),z=n.n(O),C=n(139),A=n(140),S=n(154),R=n(141),k=n(82),_=n(142),I=n(143),M=n(144),P=n(145),F=n(146),D=n(156),B=n(75),T=n.n(B),W=n(74),N=n.n(W),V=n(155),L=n(72),q=Object(h.a)((function(e){return{root:{margin:0,padding:e.spacing(2),display:"flex",flexDirection:"row"},image:{marginTop:"auto",marginBottom:"auto",marginRight:8,height:50},closeButton:{marginLeft:"auto",color:e.palette.grey[500]}}}))((function(e){var t=e.children,n=e.classes,a=e.onClose,r=Object(p.a)(e,["children","classes","onClose"]);return o.a.createElement(w.a,Object.assign({disableTypography:!0,className:n.root},r),o.a.createElement("img",{src:"logo-512.png",alt:"Mandelbrot Maps logo",className:n.image}),o.a.createElement(g.a,{variant:"h1",style:{fontSize:24,marginTop:"auto",marginBottom:"auto"}},t),a?o.a.createElement(j.a,{"aria-label":"close",className:n.closeButton,onClick:a},o.a.createElement(z.a,null)):null)})),Z=Object(h.a)((function(e){return{root:{padding:e.spacing(3)}}}))(x.a),J=Object(h.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(E.a);function U(e){return o.a.createElement(V.a,Object.assign({elevation:6,variant:"filled"},e))}function X(e){var t=Object(c.a)(e.ctrl,2),n=t[0],r=t[1],i=Object(a.useState)(!1),l=Object(c.a)(i,2),s=l[0],u=l[1],m=function(){return r(!1)},f=window.jscd||{};return o.a.createElement(y.a,{onClose:m,"aria-labelledby":"customized-dialog-title",open:n,maxWidth:"md"},o.a.createElement(q,{id:"customized-dialog-title",onClose:m},"Mandelbrot Maps"),o.a.createElement(Z,{dividers:!0,style:{maxWidth:700}},o.a.createElement(g.a,{gutterBottom:!0},"Mandelbrot Maps is an interactive fractal explorer built using React and WebGL."),o.a.createElement(g.a,{gutterBottom:!0},"Developed by"," ",o.a.createElement(C.a,{href:"https://jmaio.github.io/",target:"_blank"},"Joao Maio")," ","in 2019/2020 as part of an Honours Project at The University of Edinburgh, under the supervision of Philip Wadler."),o.a.createElement(g.a,{gutterBottom:!0},"The project was simultaneously undertaken by Freddie Bawden, also under the supervision of Philip Wadler. Freddie's version of the project is available at:"," ",o.a.createElement(C.a,{href:"http://mmaps.freddiejbawden.com/",target:"_blank"},"mmaps.freddiejbawden.com")),o.a.createElement(g.a,{gutterBottom:!0},"The"," ",o.a.createElement(C.a,{href:"https://homepages.inf.ed.ac.uk/wadler/mandelbrot-maps/index.html",target:"_blank"},"original Mandelbrot Maps project")," ","was developed by Iain Parris in 2008 as a Java Applet."),o.a.createElement(g.a,{gutterBottom:!0},"Mandelbrot set shader code adapted from"," ",o.a.createElement(C.a,{href:"https://www.shadertoy.com/view/4df3Rn"},"Mandelbrot - smooth")," by"," ",o.a.createElement(C.a,{href:"http://iquilezles.org/",target:"_blank"},"Inigo Quilez"),"."),o.a.createElement(A.a,{style:{marginTop:30,marginBottom:30}}),o.a.createElement(S.a,{style:{display:"flex"}},o.a.createElement(R.a,{component:k.a,style:{width:"auto",margin:"auto",maxWidth:460}},o.a.createElement(_.a,{size:"small","aria-label":"a dense table"},o.a.createElement(I.a,null,o.a.createElement(M.a,null,o.a.createElement(P.a,{align:"center",colSpan:2,variant:"head"},"Device properties"))),o.a.createElement(F.a,null,Object.entries(f).map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return o.a.createElement(M.a,{key:n},o.a.createElement(P.a,null,n),o.a.createElement(P.a,{align:"right",style:{fontFamily:"monospace"}},String(a)))})))))),o.a.createElement(A.a,{style:{marginTop:30,marginBottom:30}}),o.a.createElement(S.a,{style:{display:"flex"}},o.a.createElement(g.a,{variant:"overline",align:"center",style:{margin:"auto"}},"Build:",o.a.createElement(g.a,{style:{fontFamily:"monospace"}},"2020-09-27T19:00:34.813Z")))),o.a.createElement(J,null,o.a.createElement(v.a,{onClick:function(){!function(e){try{navigator.clipboard.writeText(e),u(!0)}catch(t){window.prompt("Auto copy to clipboard failed, copy manually from below:",e)}}(JSON.stringify(f))},color:"primary",variant:"outlined",startIcon:o.a.createElement(N.a,null)},"Copy"),o.a.createElement(D.a,{open:s,autoHideDuration:5e3,onClose:function(){return u(!1)}},o.a.createElement(U,{onClose:function(){return u(!1)},severity:"info"},"Device properties copied!")),o.a.createElement(v.a,{autoFocus:!0,href:L.a,target:"_blank",color:"primary",variant:"outlined",startIcon:o.a.createElement(T.a,null)},"Feedback")))}var G=n(35),H=function(e){var t=e.maxI,n=void 0===t?300:t,a=e.AA,o=void 0===a?1:a,r=e.B,i=void 0===r?64:r;return"\n\n#define AA ".concat(o,"\n#define MAXI ").concat(n,"\n#define B ").concat(i.toFixed(1),'\n\n// set high float precision (lower than this may break colours on mobile)\nprecision highp float;\n\n// need to know the resolution of the canvas\nuniform vec2 resolution;\n\n// properties should be passed as uniforms\nuniform int   u_maxI;\nuniform vec2  u_xy;\nuniform vec2  u_c;\nuniform float u_zoom;\nuniform float u_theta;\n\nfloat julia( vec2 z, vec2 c ) {\n\n  float l = 0.0;\n  for( int i=0; i<MAXI; i++ )\n  {\n      z = vec2( z.x*z.x - z.y*z.y, 2.0*z.x*z.y ) + c;\n      if( dot(z,z)>(B*B) ) break;\n      l += 1.0;\n  }\n\n  // maxed out iterations\n  if( l>float(MAXI)-1.0 ) return 0.0;\n\n  // equivalent optimized smooth interation count\n  l = l - log2(log2(dot(z,z))) + 4.0;\n\n  return l;\n}\n\nvoid main() {    \n  // set the initial colour to black\n  vec3 col = vec3(0.0);\n\n  // anti-aliasing\n  #if AA>1\n  for( int m=0; m<AA; m++ )\n  for( int n=0; n<AA; n++ )\n  {\n      vec2 p = (2.0*(gl_FragCoord.xy + vec2(float(m), float(n)) / float(AA) ) - resolution.xy)/resolution.y;\n      float w = float(AA*m+n);\n  #else    \n      // adjust pixels to range from [-1, 1]\n      vec2 p = (2.0*gl_FragCoord.xy - resolution.xy)/resolution.y;\n  #endif\n  \n  // constant "c" to add, based on mandelbrot position\n  vec2 c = u_c;\n  vec2 z = u_xy + p/u_zoom;\n\n  float l = julia(z, c);\n  col += 0.5 + 0.5*cos( 3.0 + l*0.15 + vec3(0.0,0.6,1.0));\n\n  // antialiasing\n  #if AA>1\n  }\n  col /= float(AA*AA);\n  #endif\n\n  // Output to screen\n  gl_FragColor = vec4( col, 1.0 );\n}\n')},Q=n(61),$=n(79),K=Object($.a)({props:{MuiSwitch:{color:"primary"}}}),Y=K,ee=n(44),te=n(30),ne={position:{numComponents:3,data:[-1,-1,0,1,-1,0,-1,1,0,-1,1,0,1,-1,0,1,1,0]}},ae=o.a.forwardRef((function(e,t){var n=t,r=e.glRef,i=Object(a.useRef)(),c=Object(a.useRef)(),l=Object(a.useRef)(),s=e.u,f=e.fps,d=e.mini?function(){return 1}:function(){return e.u.zoom.getValue()},g=Object(a.useRef)(d()),b=e.useDPR?window.devicePixelRatio:1;Object(a.useEffect)((function(){r.current=n.current.getContext("webgl"),c.current=te.a(r.current,ne)}),[r,n]),Object(a.useEffect)((function(){g.current=e.u.zoom.getValue()}),[e.u]),Object(a.useEffect)((function(){l.current=te.b(r.current,["\nattribute vec4 position;\n\nvoid main() {\n  gl_Position = position;\n}\n",e.fragShader])}),[r,e.fragShader]);var p=Object(a.useRef)(0),h=Object(a.useRef)(0),v=Object(a.useRef)(0),y=Object(a.useCallback)((function(e){te.d(n.current,b),r.current.viewport(0,0,r.current.canvas.width,r.current.canvas.height);var t={resolution:[r.current.canvas.width,r.current.canvas.height],u_zoom:d(),u_c:void 0===s.c?0:s.c.getValue().map((function(e){return e*s.screenScaleMultiplier})),u_xy:Object(m.vScale)(s.screenScaleMultiplier,s.xy.getValue()),u_maxI:s.maxI};r.current.useProgram(l.current.program),te.e(r.current,l.current,c.current),te.f(l.current,t),te.c(r.current,c.current),void 0!==f&&(h.current++,v.current+=e-p.current,p.current=e,v.current>=1e3&&(f((h.current*(1e3/v.current)).toFixed(1)),h.current=0,v.current-=1e3)),i.current=requestAnimationFrame(y)}),[r,s,d,b,f,1e3,n]);return Object(a.useEffect)((function(){return i.current=requestAnimationFrame(y),function(){return cancelAnimationFrame(i.current)}}),[y]),o.a.createElement(u.a.canvas,{className:"renderer",ref:t,style:Object(ee.a)({cursor:e.dragging?"grabbing":"grab"},e.style)})}));ae.displayName="WebGLCanvas";var oe=ae,re=function(e){var t=e.canvasRef,n=e.onClick,a=e.show,r=Object(p.a)(e,["canvasRef","onClick","show"]);return o.a.createElement(f.a,{in:a},o.a.createElement(Q.a,{style:{position:"absolute",zIndex:1300,margin:"0.5rem",left:0,bottom:0,height:100,width:100,borderRadius:8,boxShadow:"0px 2px 10px 1px rgba(0, 0, 0, 0.4)",overflow:"hidden"},onClick:n},o.a.createElement(oe,Object.assign({mini:!0,ref:t},r,{style:{borderRadius:8,cursor:"pointer"}}))))},ie=n(157),ce=n(158),le=function(e){return{showMinimap:{label:"Minimap",checked:e.showMinimap,control:o.a.createElement(ie.a,null)},showCrosshair:{label:"Crosshair",checked:e.showCrosshair,control:o.a.createElement(ie.a,null)},showCoordinates:{label:"Show coordinates",checked:e.showCoordinates,control:o.a.createElement(ie.a,null)},maxI:{label:"Iterations",value:e.maxI,labelPlacement:"top",style:{marginLeft:0,marginRight:0},control:o.a.createElement(ce.a,{min:10,max:1e3,step:10,valueLabelDisplay:"auto",marks:[{value:10,label:10},{value:250,label:250},{value:500,label:500},{value:750,label:750},{value:1e3,label:1e3}]})},useDPR:{label:"Use pixel ratio (".concat(+window.devicePixelRatio.toFixed(3),")"),checked:e.useDPR,control:o.a.createElement(ie.a,null)},useAA:{label:"Anti-aliasing (slow)",checked:e.useAA,control:o.a.createElement(ie.a,null)},showFPS:{label:"Show FPS",checked:e.showFPS,control:o.a.createElement(ie.a,null)}}},se={showMinimap:!0,showCrosshair:!0,showCoordinates:!1,maxI:250,showFPS:!1,useDPR:!1,useAA:!1},ue=o.a.createContext({settings:se,setSettings:function(){},settingsWidgets:le(se)}),me=function(e){var t=e.children,n=Object(a.useState)(se),r=Object(c.a)(n,2),i=r[0],l=r[1];return o.a.createElement(ue.Provider,{value:{settings:i,setSettings:l,settingsWidgets:le(i)}},t)},fe=n(58),de=n.n(fe);function ge(e){var t=e.domTarget,n=e.posControl,a=e.zoomControl,o=e.screenScaleMultiplier,r=e.gl,i=e.setDragging,l=Object(c.a)(n,2),s=l[0].xy,u=l[1],f=Object(c.a)(a,2),d=f[0],g=d.zoom,b=d.minZoom,p=d.maxZoom,h=f[1];return{binds:{onDragStart:function(e){return e.event.preventDefault()},onPinchStart:function(e){return e.event.preventDefault()},onPinch:function(e){var t=Object(c.a)(e.vdva,1)[0],n=e.down,a=Object(c.a)(e.delta,1)[0],o=e.origin,r=e.first,i=e.memo,l=void 0===i?[s.getValue()]:i,u=e.z,m=void 0===u?g.getValue():u;if(r)return[Object(c.a)(l,1)[0],o];var f=m*(1+.005*a),d=de.a.clamp(f,b.getValue(),p.getValue());return h({zoom:d,immediate:n,config:{velocity:10*t}}),l},onWheel:function(e){var t=Object(c.a)(e.movement,2)[1],n=e.active,a=e.z,o=void 0===a?g.getValue():a,r=o*(1-t*(t<0?3e-4:2e-4));return h({zoom:de.a.clamp(r,b.getValue(),p.getValue()),immediate:n,config:{}}),o},onDrag:function(e){var t=e.down,n=e.movement,a=e.velocity,c=e.direction,l=e.pinching,f=e.memo,d=void 0===f?s.getValue():f;if(!l){var b=r.current.canvas.height*g.getValue()*o,p=Object(m.vScale)(-2/b,n),h=[p[0],-p[1]],v=[c[0],-c[1]];return u({xy:Object(G.a)(d,h),immediate:t,config:{velocity:Object(m.vScale)(-a/b,v),decay:!0}}),i(t),d}}},config:{eventOptions:{passive:!1,capture:!1},domTarget:t}}}function be(e){var t=Object(a.useRef)(),n=Object(a.useRef)(),r=Object(a.useRef)(),i=Object(a.useRef)(),l=e.screenmult,s=Object(c.a)(e.controls.xyCtrl,1)[0].xy,u=Object(c.a)(e.controls.zoomCtrl,2),m=u[0].zoom,f=u[1],d=e.maxiter,g=e.aa?2:1,b=H({maxI:d,AA:g}),p=H({maxI:d,AA:2}),h=Object(a.useState)(!1),v=Object(c.a)(h,2),y=v[0],w=v[1],x=ge({domTarget:t,posControl:e.controls.xyCtrl,zoomControl:e.controls.zoomCtrl,screenScaleMultiplier:l/(e.useDPR?window.devicePixelRatio:1),gl:r,setDragging:w}),E=Object(G.b)(x.binds,x.config);return Object(a.useEffect)(E,[E]),o.a.createElement(ue.Consumer,null,(function(a){var c=a.settings;return o.a.createElement("div",{className:"renderer",style:{position:"relative"}},o.a.createElement(oe,{id:"julia",fragShader:b,useDPR:e.useDPR,u:{zoom:m,xy:s,c:e.c,maxI:d,screenScaleMultiplier:l},ref:t,glRef:r,dragging:y}),o.a.createElement(re,{fragShader:p,useDPR:c.useDPR,u:{zoom:m,xy:s,maxI:d,c:e.c,screenScaleMultiplier:l},canvasRef:n,glRef:i,onClick:function(){return f({zoom:1})},show:c.showMinimap}))}))}var pe=function(e,t){return{stroke:e,radius:t}},he=pe(2,100),ve=pe(1,30),ye=function(e){var t=e.maxI,n=void 0===t?300:t,a=e.AA,o=void 0===a?1:a,r=e.B,i=void 0===r?64:r,c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{stroke:2,radius:100};return"\n    // Adapted by Joao Maio/2019, based on work by inigo quilez - iq/2013\n    // License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n    \n    // See here for more information on smooth iteration count:\n    // http://iquilezles.org/www/articles/mset_smooth/mset_smooth.htm\n    \n    #define false 0\n    #define true 1\n\n    // render parameters\n    #define AA ".concat(o,"\n    #define MAXI ").concat(n,"\n    #define B ").concat(i.toFixed(1),"\n    \n    // crosshair parameters\n    #define show_crosshair ").concat(c,"\n    #define cross_stroke ").concat(l.stroke.toFixed(1),"\n    #define cross_radius ").concat(l.radius.toFixed(1),'\n    \n    // set high float precision (lower than this may break colours on mobile)\n    precision highp float;\n    \n    // need to know the resolution of the canvas\n    uniform vec2 resolution;\n    \n    // properties should be passed as uniforms\n    uniform int   u_maxI;  \n    uniform vec2  u_xy;\n    uniform float u_zoom;\n    uniform float u_theta;\n\n    bool crosshair( float x, float y ) {\n      float abs_x = abs(2.0*x - resolution.x);\n      float abs_y = abs(2.0*y - resolution.y);\n  \n      return \n      // crosshair in centre of screen\n      (abs_x <= cross_stroke || abs_y <= cross_stroke) &&\n      // crosshair size / "radius"\n      (abs_x <= cross_radius && abs_y <= cross_radius);\n    }\n    \n    float mandelbrot( in vec2 c ) {\n        {\n            float c2 = dot(c, c);\n            // skip computation inside M1 - http://iquilezles.org/www/articles/mset_1bulb/mset1bulb.htm\n            if( 256.0*c2*c2 - 96.0*c2 + 32.0*c.x - 3.0 < 0.0 ) return 0.0;\n            // skip computation inside M2 - http://iquilezles.org/www/articles/mset_2bulb/mset2bulb.htm\n            if( 16.0*(c2+2.0*c.x+1.0) - 1.0 < 0.0 ) return 0.0;\n        }\n    \n        float l = 0.0;\n        vec2 z  = vec2(0.0);\n        for( int i=0; i<MAXI; i++ )\n        {\n            z = vec2( z.x*z.x - z.y*z.y, 2.0*z.x*z.y ) + c;\n            if( dot(z,z)>(B*B) ) break;\n            l += 1.0;\n        }\n    \n        // maxed out iterations\n        if( l>float(MAXI)-1.0 ) return 0.0;\n        \n        // optimized smooth interation count\n        l = l - log2(log2(dot(z,z))) + 4.0;\n    \n        return l;\n    }\n    \n    void main() {    \n        // set the initial colour to black\n        vec3 col = vec3(0.0);\n    \n        // anti-aliasing\n        #if AA>1\n        for( int m=0; m<AA; m++ )\n        for( int n=0; n<AA; n++ )\n        {\n            // vec2 p = (-iResolution.xy + 2.0*(fragCoord.xy+vec2(float(m),float(n))/float(AA)))/iResolution.y;\n            vec2 p = (2.0*(gl_FragCoord.xy + vec2(float(m), float(n)) / float(AA) ) - resolution.xy)/resolution.y;\n            float w = float(AA*m+n);\n        #else    \n            // adjust pixels to range from [-1, 1]\n            vec2 p = (2.0*gl_FragCoord.xy - resolution.xy)/resolution.y;\n        #endif\n    \n        // c is based on offset and grid position, z_0 = 0\n        vec2 c = u_xy + p/u_zoom;\n        \n        float l = mandelbrot(c);\n        col += 0.5 + 0.5*cos( 3.0 + l*0.15 + vec3(0.0,0.6,1.0));\n    \n        // antialiasing\n        #if AA>1\n        }\n        col /= float(AA*AA);\n        #endif\n    \n        #if show_crosshair\n        if (crosshair(gl_FragCoord.x, gl_FragCoord.y)) {\n            col = 1. - col;\n        }\n        #endif\n    \n        // Output to screen\n        gl_FragColor = vec4( col, 1.0 );\n    }\n    ')},we=function(e){var t=e.duration||200;return o.a.createElement("div",{style:{visibility:e.show?"visible":"hidden",opacity:e.show?1:0,transition:"opacity ".concat(t,"ms, visibility ").concat(t,"ms")}},e.children)},xe=function(e){return o.a.createElement(f.a,{in:e.show},o.a.createElement(d.a,{style:{position:"fixed",top:0,left:0,padding:"4px 12px",margin:6,fontFamily:"monospace",borderRadius:100,fontSize:"1.8rem",zIndex:1300,userSelect:"none"}},o.a.createElement(u.a.div,null,e.fps)))};function Ee(e){var t=Object(a.useRef)(),n=Object(a.useRef)(),r=Object(a.useRef)(),i=Object(a.useRef)(),l=e.screenmult,s=Object(c.a)(e.controls.xyCtrl,1)[0].xy,u=Object(c.a)(e.controls.zoomCtrl,2),m=u[0].zoom,f=u[1],d=e.maxI,g=e.useAA?2:1,b=ye({maxI:d,AA:g},e.showCrosshair,he),p=ye({maxI:d,AA:2},e.showCrosshair,ve),h=Object(a.useState)(!1),v=Object(c.a)(h,2),y=v[0],w=v[1],x=ge({domTarget:t,posControl:e.controls.xyCtrl,zoomControl:e.controls.zoomCtrl,screenScaleMultiplier:l/(e.useDPR?window.devicePixelRatio:1),gl:r,setDragging:w}),E=Object(G.b)(x.binds,x.config);Object(a.useEffect)(E,[E]);var j=Object(a.useState)(0),O=Object(c.a)(j,2),z=O[0],C=O[1];return o.a.createElement(ue.Consumer,null,(function(e){var a=e.settings;return o.a.createElement("div",{className:"renderer",style:{position:"relative"}},o.a.createElement(xe,{fps:z,show:a.showFPS}),o.a.createElement(oe,{id:"mandelbrot",fragShader:b,useDPR:a.useDPR,u:{zoom:m,xy:s,maxI:d,screenScaleMultiplier:l},ref:t,glRef:r,fps:C,dragging:y}),o.a.createElement(we,{show:a.showMinimap},o.a.createElement(re,{fragShader:p,useDPR:a.useDPR,u:{zoom:m,xy:s,maxI:d,screenScaleMultiplier:l},canvasRef:n,glRef:i,show:a.showMinimap,onClick:function(){return f({zoom:1})}})))}))}var je=n(20),Oe=n(148),ze=n(149),Ce=n(109),Ae=n(159),Se=n(151),Re=n(152),ke=n(77),_e=n.n(ke),Ie=n(78),Me=n.n(Ie),Pe=n(76),Fe=n.n(Pe),De=Object(Oe.a)((function(e){return{root:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2),display:"flex",flexDirection:"column",zIndex:2},button:{},sliderControl:{width:30}}})),Be=function(){return o.a.createElement(A.a,{style:{marginTop:10,marginBottom:4}})},Te=function(e){return o.a.createElement(g.a,{variant:"overline",style:{fontSize:14,marginBottom:4}},e.title)};function We(e){var t=De(),n=o.a.useState(null),a=Object(c.a)(n,2),r=a[0],i=a[1];return o.a.createElement("div",{className:t.root},o.a.createElement(ze.a,{"aria-controls":"menu","aria-haspopup":"true","aria-label":"settings",size:"small",onClick:function(e){return i(e.currentTarget)},className:t.button},o.a.createElement(Fe.a,null)),o.a.createElement(Ce.a,{open:Boolean(r)},o.a.createElement(Ae.a,{id:"menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:function(){return i(null)},anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{vertical:"bottom",horizontal:"right"}},o.a.createElement(s.a,{container:!0,direction:"column",style:{paddingLeft:"1.5em",paddingRight:"1.5em",paddingTop:"1em",paddingBottom:"1em"}},o.a.createElement(s.a,{item:!0,container:!0,alignItems:"center",justify:"space-around"},o.a.createElement(s.a,{item:!0},o.a.createElement(g.a,{variant:"h1",style:{fontSize:20,paddingLeft:20,paddingRight:20}},"Configuration")),o.a.createElement(A.a,{orientation:"vertical",flexItem:!0}),o.a.createElement(s.a,{item:!0},o.a.createElement(j.a,{"aria-label":"info",size:"medium",onClick:function(){e.toggleInfo(),i(null)}},o.a.createElement(_e.a,{fontSize:"inherit"})))),o.a.createElement(ue.Consumer,null,(function(e){e.settings;var t=e.setSettings;return function(e){return[{name:"Interface",widgets:{showMinimap:e.showMinimap,showCrosshair:e.showCrosshair,showCoordinates:e.showCoordinates}},{name:"Graphics",widgets:{maxI:e.maxI,useDPR:e.useDPR,useAA:e.useAA,showFPS:e.showFPS}}]}(e.settingsWidgets).map((function(e){return o.a.createElement(s.a,{item:!0,key:e.name},o.a.createElement(Be,null),o.a.createElement(Te,{title:e.name}),o.a.createElement(Se.a,null,Object.entries(e.widgets).map((function(e){var n=Object(c.a)(e,2),a=n[0],r=n[1];return o.a.createElement(Re.a,Object.assign({key:"".concat(r.label,"-control"),style:{userSelect:"none"}},r,{onChange:function(e,n){console.log("".concat(a," -> ").concat(n)),t((function(e){return Object(ee.a)(Object(ee.a)({},e),{},Object(je.a)({},a,n))}))}}))}))))}))})),o.a.createElement(Be,null),o.a.createElement(v.a,{"aria-controls":"reset",onClick:function(){return e.reset()},className:t.button,startIcon:o.a.createElement(Me.a,null)},"Reset position")))))}var Ne=function(){var e=function(){var e="object"===typeof window,t=Object(a.useCallback)((function(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}),[e]),n=Object(a.useState)(t),o=Object(c.a)(n,2),r=o[0],i=o[1];return Object(a.useEffect)((function(){if(!e)return function(){};function n(){i(t())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[t,e]),r}(),t={mass:1,tension:100,friction:200},n=[-.7746931,.1242266],r={xyCtrl:Object(u.b)((function(){return{xy:Object(m.vScale)(1/1e-7,n),config:t}})),rotCtrl:Object(u.b)((function(){return{theta:0,config:t}})),zoomCtrl:Object(u.b)((function(){return{zoom:85,minZoom:.5,maxZoom:1e5,config:{mass:1,tension:600,friction:50}}}))},i={xyCtrl:Object(u.b)((function(){return{xy:[0,0],config:t}})),rotCtrl:Object(u.b)((function(){return{theta:0,config:t}})),zoomCtrl:Object(u.b)((function(){return{zoom:.5,minZoom:.5,maxZoom:1e5,config:{mass:1,tension:600,friction:50}}}))},f={mass:1,tension:200,friction:75},d={mass:1,tension:300,friction:60},g=Object(a.useState)(!1),p=Object(c.a)(g,2),h=p[0],v=p[1],y={miniViewer:Object(a.useState)(!0),crosshair:Object(a.useState)(!0),coords:Object(a.useState)(!1),maxI:Object(a.useState)(250),aa:Object(a.useState)(!1),dpr:Object(a.useState)(!1),fps:Object(a.useState)(!1)};return o.a.createElement(l.a,{theme:Y},o.a.createElement(me,null,o.a.createElement(s.a,{container:!0},o.a.createElement(ue.Consumer,null,(function(t){var n=t.settings;return o.a.createElement(s.a,{item:!0,container:!0,direction:(e.width||1)<(e.height||0)?"column-reverse":"row",justify:"center",className:"fullSize",style:{position:"absolute"}},o.a.createElement(b,{show:n.showCoordinates,mandelbrot:r.xyCtrl[0].xy,screenScaleMultiplier:1e-7}),o.a.createElement(s.a,{item:!0,xs:!0,className:"renderer"},o.a.createElement(Ee,Object.assign({controls:r,screenmult:1e-7},n))),o.a.createElement(s.a,{item:!0,xs:!0,className:"renderer"},o.a.createElement(be,{c:r.xyCtrl[0].xy,controls:i,maxiter:y.maxI[0],screenmult:1e-7,minimap:y.miniViewer[0],useAA:y.aa[0],useDPR:n.useDPR})))})),o.a.createElement(We,{reset:function(){return r.xyCtrl[1]({xy:[0,0],config:f}),r.zoomCtrl[1]({zoom:1,config:d}),i.xyCtrl[1]({xy:[0,0],config:f}),void i.zoomCtrl[1]({zoom:1,config:d})},toggleInfo:function(){return v(!h)}}),o.a.createElement(X,{ctrl:[h,v]}))))},Ve=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Le(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(o.a.createElement(Ne,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/mandelbrot-maps",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/mandelbrot-maps","/service-worker.js");Ve?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Le(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Le(t,e)}))}}()},72:function(e){e.exports=JSON.parse('{"a":"https://forms.gle/BeiSq3CxhEFwZkQ86"}')},93:function(e,t,n){e.exports=n(107)},98:function(e,t,n){},99:function(e,t,n){}},[[93,1,2]]]);
//# sourceMappingURL=main.d2ccfd8f.chunk.js.map