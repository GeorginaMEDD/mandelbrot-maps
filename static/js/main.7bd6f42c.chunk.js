(this["webpackJsonpmandelbrot-maps"]=this["webpackJsonpmandelbrot-maps"]||[]).push([[0],{210:function(e){e.exports=JSON.parse('{"a":"https://forms.gle/BeiSq3CxhEFwZkQ86"}')},228:function(e,t,n){e.exports=n(241)},233:function(e,t,n){},234:function(e,t,n){},241:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(11),i=n.n(r),c=(n(233),n(10)),l=n(293),s=n(290),u=n(16),m=n(24),d=(n(234),n(218)),f=n(267),g=n(109),p=function(e){return o.a.createElement(d.a,{in:e.show},o.a.createElement(f.a,{style:{width:"auto",zIndex:1300,position:"relative",padding:"6px 12px",marginBottom:8}},o.a.createElement(g.a,{align:"right",style:{fontFamily:"monospace",fontSize:"1.2rem"}},o.a.createElement(u.a.span,null,e.mandelbrot.interpolate((function(t,n){return"".concat((t*e.screenScaleMultiplier).toFixed(7)," : x")}))),o.a.createElement("br",null),o.a.createElement(u.a.span,null,e.mandelbrot.interpolate((function(t,n){return"".concat((n*e.screenScaleMultiplier).toFixed(7)," : y")}))))))},b=n(294),h=n(270),v=n(273),y=function(e){var t=Object(a.useState)(0),n=Object(c.a)(t,2),r=n[0],i=n[1],l=Object(a.useState)(0),s=Object(c.a)(l,2),u=s[0],g=s[1];return o.a.createElement(d.a,{in:e.show},o.a.createElement(f.a,{style:{width:"auto",zIndex:1300,position:"relative",padding:8,display:"flex",flexDirection:"column"}},o.a.createElement(b.a,null,o.a.createElement(h.a,{size:"small",style:{width:100},onChange:function(e){return i(Number(e.target.value))}})," ",": x"),o.a.createElement(b.a,null,o.a.createElement(h.a,{size:"small",style:{width:100},onChange:function(e){return g(Number(e.target.value))}})," ",": y"),o.a.createElement(v.a,{style:{marginTop:12},onClick:function(){e.mandelbrot.xyCtrl[1]({xy:Object(m.vScale)(1/e.screenScaleMultiplier,[r,u]),config:qe})}},"Go")))},w=n(87),x=n(4),E=n(278),j=n(274),O=n(276),z=n(277),C=n(275),A=n(211),k=n.n(A),S=n(279),R=n(280),_=n(281),I=n(88),M=n(282),P=n(283),F=n(284),B=n(285),D=n(286),T=n(287),N=n(213),W=n.n(N),V=n(212),L=n.n(V),q=n(295),Z=n(210),J=Object(x.a)((function(e){return{root:{margin:0,padding:e.spacing(2),display:"flex",flexDirection:"row"},image:{marginTop:"auto",marginBottom:"auto",marginRight:8,height:50},closeButton:{marginLeft:"auto",color:e.palette.grey[500]}}}))((function(e){var t=e.children,n=e.classes,a=e.onClose,r=Object(w.a)(e,["children","classes","onClose"]);return o.a.createElement(j.a,Object.assign({disableTypography:!0,className:n.root},r),o.a.createElement("img",{src:"logo-512.png",alt:"Mandelbrot Maps logo",className:n.image}),o.a.createElement(g.a,{variant:"h1",style:{fontSize:24,marginTop:"auto",marginBottom:"auto"}},t),a?o.a.createElement(C.a,{"aria-label":"close",className:n.closeButton,onClick:a},o.a.createElement(k.a,null)):null)})),U=Object(x.a)((function(e){return{root:{padding:e.spacing(3)}}}))(O.a),X=Object(x.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(z.a);function G(e){return o.a.createElement(q.a,Object.assign({elevation:6,variant:"filled"},e))}function H(e){var t=Object(c.a)(e.ctrl,2),n=t[0],r=t[1],i=Object(a.useState)(!1),l=Object(c.a)(i,2),s=l[0],u=l[1],m=function(){return r(!1)},d=window.jscd||{};return o.a.createElement(E.a,{onClose:m,"aria-labelledby":"customized-dialog-title",open:n,maxWidth:"md"},o.a.createElement(J,{id:"customized-dialog-title",onClose:m},"Mandelbrot Maps"),o.a.createElement(U,{dividers:!0,style:{maxWidth:700}},o.a.createElement(g.a,{gutterBottom:!0},"Mandelbrot Maps is an interactive fractal explorer built using React and WebGL."),o.a.createElement(g.a,{gutterBottom:!0},"Developed by"," ",o.a.createElement(S.a,{href:"https://jmaio.github.io/",target:"_blank"},"Joao Maio")," ","in 2019/2020 as part of an Honours Project at The University of Edinburgh, under the supervision of Philip Wadler."),o.a.createElement(g.a,{gutterBottom:!0},"The project was simultaneously undertaken by Freddie Bawden, also under the supervision of Philip Wadler. Freddie's version of the project is available at:"," ",o.a.createElement(S.a,{href:"http://mmaps.freddiejbawden.com/",target:"_blank"},"mmaps.freddiejbawden.com")),o.a.createElement(g.a,{gutterBottom:!0},"The"," ",o.a.createElement(S.a,{href:"https://homepages.inf.ed.ac.uk/wadler/mandelbrot-maps/index.html",target:"_blank"},"original Mandelbrot Maps project")," ","was developed by Iain Parris in 2008 as a Java Applet."),o.a.createElement(g.a,{gutterBottom:!0},"Mandelbrot set shader code adapted from"," ",o.a.createElement(S.a,{href:"https://www.shadertoy.com/view/4df3Rn"},"Mandelbrot - smooth")," by"," ",o.a.createElement(S.a,{href:"http://iquilezles.org/",target:"_blank"},"Inigo Quilez"),"."),o.a.createElement(R.a,{style:{marginTop:30,marginBottom:30}}),o.a.createElement(b.a,{style:{display:"flex"}},o.a.createElement(_.a,{component:I.a,style:{width:"auto",margin:"auto",maxWidth:460}},o.a.createElement(M.a,{size:"small","aria-label":"a dense table"},o.a.createElement(P.a,null,o.a.createElement(F.a,null,o.a.createElement(B.a,{align:"center",colSpan:2,variant:"head"},"Device properties"))),o.a.createElement(D.a,null,Object.entries(d).map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return o.a.createElement(F.a,{key:n},o.a.createElement(B.a,null,n),o.a.createElement(B.a,{align:"right",style:{fontFamily:"monospace"}},String(a)))})))))),o.a.createElement(R.a,{style:{marginTop:30,marginBottom:30}}),o.a.createElement(b.a,{style:{display:"flex"}},o.a.createElement(g.a,{variant:"overline",align:"center",style:{margin:"auto"}},"Build:",o.a.createElement(g.a,{style:{fontFamily:"monospace"}},"2020-10-03T00:06:19.263Z")))),o.a.createElement(X,null,o.a.createElement(v.a,{onClick:function(){!function(e){try{navigator.clipboard.writeText(e),u(!0)}catch(t){window.prompt("Auto copy to clipboard failed, copy manually from below:",e)}}(JSON.stringify(d))},color:"primary",variant:"outlined",startIcon:o.a.createElement(L.a,null)},"Copy"),o.a.createElement(T.a,{open:s,autoHideDuration:5e3,onClose:function(){return u(!1)}},o.a.createElement(G,{onClose:function(){return u(!1)},severity:"info"},"Device properties copied!")),o.a.createElement(v.a,{autoFocus:!0,href:Z.a,target:"_blank",color:"primary",variant:"outlined",startIcon:o.a.createElement(W.a,null)},"Feedback")))}var Q=n(53),$=function(e){var t=e.maxI,n=void 0===t?300:t,a=e.AA,o=void 0===a?1:a,r=e.B,i=void 0===r?64:r;return"\n\n#define AA ".concat(o,"\n#define MAXI ").concat(n,"\n#define B ").concat(i.toFixed(1),'\n\n// set high float precision (lower than this may break colours on mobile)\nprecision highp float;\n\n// need to know the resolution of the canvas\nuniform vec2 resolution;\n\n// properties should be passed as uniforms\nuniform int   u_maxI;\nuniform vec2  u_xy;\nuniform vec2  u_c;\nuniform float u_zoom;\nuniform float u_theta;\n\nfloat julia( vec2 z, vec2 c ) {\n\n  float l = 0.0;\n  for( int i=0; i<MAXI; i++ )\n  {\n      z = vec2( z.x*z.x - z.y*z.y, 2.0*z.x*z.y ) + c;\n      if( dot(z,z)>(B*B) ) break;\n      l += 1.0;\n  }\n\n  // maxed out iterations\n  if( l>float(MAXI)-1.0 ) return 0.0;\n\n  // equivalent optimized smooth interation count\n  l = l - log2(log2(dot(z,z))) + 4.0;\n\n  return l;\n}\n\nvoid main() {    \n  // set the initial colour to black\n  vec3 col = vec3(0.0);\n\n  // anti-aliasing\n  #if AA>1\n  for( int m=0; m<AA; m++ )\n  for( int n=0; n<AA; n++ )\n  {\n      vec2 p = (2.0*(gl_FragCoord.xy + vec2(float(m), float(n)) / float(AA) ) - resolution.xy)/resolution.y;\n      float w = float(AA*m+n);\n  #else    \n      // adjust pixels to range from [-1, 1]\n      vec2 p = (2.0*gl_FragCoord.xy - resolution.xy)/resolution.y;\n  #endif\n  \n  // constant "c" to add, based on mandelbrot position\n  vec2 c = u_c;\n  vec2 z = u_xy + p/u_zoom;\n\n  float l = julia(z, c);\n  col += 0.5 + 0.5*cos( 3.0 + l*0.15 + vec3(0.0,0.6,1.0));\n\n  // antialiasing\n  #if AA>1\n  }\n  col /= float(AA*AA);\n  #endif\n\n  // Output to screen\n  gl_FragColor = vec4( col, 1.0 );\n}\n')},K=n(110),Y=n(217),ee=n(21),te=Object(Y.a)({props:{MuiSwitch:{color:"primary"},MuiButton:{variant:"outlined"}},palette:{primary:{main:ee.a.blue[700]},secondary:{main:ee.a.red[700]}}}),ne=te,ae=n(65),oe=n(40),re={position:{numComponents:3,data:[-1,-1,0,1,-1,0,-1,1,0,-1,1,0,1,-1,0,1,1,0]}},ie=o.a.forwardRef((function(e,t){var n=t,r=e.glRef,i=Object(a.useRef)(),c=Object(a.useRef)(),l=Object(a.useRef)(),s=e.u,d=e.fps,f=e.mini?function(){return 1}:function(){return e.u.zoom.getValue()},g=Object(a.useRef)(f()),p=e.useDPR?window.devicePixelRatio:1;Object(a.useEffect)((function(){r.current=n.current.getContext("webgl"),c.current=oe.a(r.current,re)}),[r,n]),Object(a.useEffect)((function(){g.current=e.u.zoom.getValue()}),[e.u]),Object(a.useEffect)((function(){l.current=oe.b(r.current,["\nattribute vec4 position;\n\nvoid main() {\n  gl_Position = position;\n}\n",e.fragShader])}),[r,e.fragShader]);var b=Object(a.useRef)(0),h=Object(a.useRef)(0),v=Object(a.useRef)(0),y=Object(a.useCallback)((function(e){oe.d(n.current,p),r.current.viewport(0,0,r.current.canvas.width,r.current.canvas.height);var t={resolution:[r.current.canvas.width,r.current.canvas.height],u_zoom:f(),u_c:void 0===s.c?0:s.c.getValue().map((function(e){return e*s.screenScaleMultiplier})),u_xy:Object(m.vScale)(s.screenScaleMultiplier,s.xy.getValue()),u_maxI:s.maxI};r.current.useProgram(l.current.program),oe.e(r.current,l.current,c.current),oe.f(l.current,t),oe.c(r.current,c.current),void 0!==d&&(h.current++,v.current+=e-b.current,b.current=e,v.current>=1e3&&(d((h.current*(1e3/v.current)).toFixed(1)),h.current=0,v.current-=1e3)),i.current=requestAnimationFrame(y)}),[r,s,f,p,d,1e3,n]);return Object(a.useEffect)((function(){return i.current=requestAnimationFrame(y),function(){return cancelAnimationFrame(i.current)}}),[y]),o.a.createElement(u.a.canvas,{className:"renderer",ref:t,style:Object(ae.a)({cursor:e.dragging?"grabbing":"grab"},e.style)})}));ie.displayName="WebGLCanvas";var ce=ie,le=function(e){var t=e.canvasRef,n=e.onClick,a=e.show,r=Object(w.a)(e,["canvasRef","onClick","show"]);return o.a.createElement(d.a,{in:a},o.a.createElement(K.a,{style:{position:"absolute",zIndex:1300,margin:"0.5rem",left:0,bottom:0,height:100,width:100,borderRadius:8,boxShadow:"0px 2px 10px 1px rgba(0, 0, 0, 0.4)",overflow:"hidden"},onClick:n},o.a.createElement(ce,Object.assign({mini:!0,ref:t},r,{style:{borderRadius:8,cursor:"pointer"}}))))},se=n(107),ue=n.n(se);function me(e){var t=e.domTarget,n=e.posControl,a=e.zoomControl,o=e.screenScaleMultiplier,r=e.gl,i=e.setDragging,l=Object(c.a)(n,2),s=l[0].xy,u=l[1],d=Object(c.a)(a,2),f=d[0],g=f.zoom,p=f.minZoom,b=f.maxZoom,h=d[1];return{binds:{onDragStart:function(e){return e.event.preventDefault()},onPinchStart:function(e){return e.event.preventDefault()},onPinch:function(e){var t=Object(c.a)(e.vdva,1)[0],n=e.down,a=Object(c.a)(e.delta,1)[0],o=e.origin,r=e.first,i=e.memo,l=void 0===i?[s.getValue()]:i,u=e.z,m=void 0===u?g.getValue():u;if(r)return[Object(c.a)(l,1)[0],o];var d=m*(1+.005*a),f=ue.a.clamp(d,p.getValue(),b.getValue());return h({zoom:f,immediate:n,config:{velocity:10*t}}),l},onWheel:function(e){var t=Object(c.a)(e.movement,2)[1],n=e.active,a=e.z,o=void 0===a?g.getValue():a,r=o*(1-t*(t<0?3e-4:2e-4));return h({zoom:ue.a.clamp(r,p.getValue(),b.getValue()),immediate:n,config:{}}),o},onDrag:function(e){var t=e.down,n=e.movement,a=e.velocity,c=e.direction,l=e.pinching,d=e.memo,f=void 0===d?s.getValue():d;if(!l){var p=r.current.canvas.height*g.getValue()*o,b=Object(m.vScale)(-2/p,n),h=[b[0],-b[1]],v=[c[0],-c[1]];return u({xy:Object(Q.a)(f,h),immediate:t,config:{velocity:Object(m.vScale)(-a/p,v),decay:!0}}),i(t),f}}},config:{eventOptions:{passive:!1,capture:!1},domTarget:t}}}var de=n(296),fe=n(297),ge=function(e){return{showMinimap:{k:"showMinimap",label:"Minimap",checked:e.showMinimap,control:o.a.createElement(de.a,null)},showCrosshair:{k:"showCrosshair",label:"Crosshair",checked:e.showCrosshair,control:o.a.createElement(de.a,null)},showCoordinates:{k:"showCoordinates",label:"Show coordinates",checked:e.showCoordinates,control:o.a.createElement(de.a,null)},maxI:{k:"maxI",label:"Iterations",value:e.maxI,labelPlacement:"top",style:{marginLeft:0,marginRight:0},control:o.a.createElement(fe.a,{min:10,max:1e3,step:10,valueLabelDisplay:"auto",marks:[{value:10,label:10},{value:250,label:250},{value:500,label:500},{value:750,label:750},{value:1e3,label:1e3}]})},useDPR:{k:"useDPR",label:"Use pixel ratio (".concat(+window.devicePixelRatio.toFixed(3),")"),checked:e.useDPR,control:o.a.createElement(de.a,null)},useAA:{k:"useAA",label:"Anti-aliasing (slow)",checked:e.useAA,control:o.a.createElement(de.a,null)},showFPS:{k:"showFPS",label:"Show FPS",checked:e.showFPS,control:o.a.createElement(de.a,null)}}},pe={showMinimap:!0,showCrosshair:!0,showCoordinates:!0,maxI:250,showFPS:!1,useDPR:!1,useAA:!1},be=Object(a.createContext)({settings:pe,setSettings:function(){},settingsWidgets:ge(pe)}),he=function(e){var t=e.children,n=Object(a.useState)(pe),r=Object(c.a)(n,2),i=r[0],l=r[1];return o.a.createElement(be.Provider,{value:{settings:i,setSettings:l,settingsWidgets:ge(i)}},t)};function ve(e){var t=Object(a.useRef)(),n=Object(a.useRef)(),r=Object(a.useRef)(),i=Object(a.useRef)(),l=e.screenmult,s=Object(c.a)(e.controls.xyCtrl,1)[0].xy,u=Object(c.a)(e.controls.zoomCtrl,2),m=u[0].zoom,d=u[1],f=e.maxI,g=e.useAA?2:1,p=$({maxI:f,AA:g}),b=$({maxI:f,AA:2}),h=Object(a.useState)(!1),v=Object(c.a)(h,2),y=v[0],w=v[1],x=me({domTarget:t,posControl:e.controls.xyCtrl,zoomControl:e.controls.zoomCtrl,screenScaleMultiplier:l/(e.useDPR?window.devicePixelRatio:1),gl:r,setDragging:w}),E=Object(Q.b)(x.binds,x.config);return Object(a.useEffect)(E,[E]),o.a.createElement(be.Consumer,null,(function(a){var c=a.settings;return o.a.createElement("div",{className:"renderer",style:{position:"relative"}},o.a.createElement(ce,{id:"julia",fragShader:p,useDPR:e.useDPR,u:{zoom:m,xy:s,c:e.c,maxI:f,screenScaleMultiplier:l},ref:t,glRef:r,dragging:y}),o.a.createElement(le,{fragShader:b,useDPR:c.useDPR,u:{zoom:m,xy:s,maxI:f,c:e.c,screenScaleMultiplier:l},canvasRef:n,glRef:i,onClick:function(){return d({zoom:1})},show:c.showMinimap}))}))}var ye=function(e,t){return{stroke:e,radius:t}},we=ye(2,100),xe=ye(1,30),Ee=function(e){var t=e.maxI,n=void 0===t?300:t,a=e.AA,o=void 0===a?1:a,r=e.B,i=void 0===r?64:r,c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{stroke:2,radius:100};return"\n    // Adapted by Joao Maio/2019, based on work by inigo quilez - iq/2013\n    // License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n    \n    // See here for more information on smooth iteration count:\n    // http://iquilezles.org/www/articles/mset_smooth/mset_smooth.htm\n    \n    #define false 0\n    #define true 1\n\n    // render parameters\n    #define AA ".concat(o,"\n    #define MAXI ").concat(n,"\n    #define B ").concat(i.toFixed(1),"\n    \n    // crosshair parameters\n    #define show_crosshair ").concat(c,"\n    #define cross_stroke ").concat(l.stroke.toFixed(1),"\n    #define cross_radius ").concat(l.radius.toFixed(1),'\n    \n    // set high float precision (lower than this may break colours on mobile)\n    precision highp float;\n    \n    // need to know the resolution of the canvas\n    uniform vec2 resolution;\n    \n    // properties should be passed as uniforms\n    uniform int   u_maxI;  \n    uniform vec2  u_xy;\n    uniform float u_zoom;\n    uniform float u_theta;\n\n    bool crosshair( float x, float y ) {\n      float abs_x = abs(2.0*x - resolution.x);\n      float abs_y = abs(2.0*y - resolution.y);\n  \n      return \n      // crosshair in centre of screen\n      (abs_x <= cross_stroke || abs_y <= cross_stroke) &&\n      // crosshair size / "radius"\n      (abs_x <= cross_radius && abs_y <= cross_radius);\n    }\n    \n    float mandelbrot( in vec2 c ) {\n        {\n            float c2 = dot(c, c);\n            // skip computation inside M1 - http://iquilezles.org/www/articles/mset_1bulb/mset1bulb.htm\n            if( 256.0*c2*c2 - 96.0*c2 + 32.0*c.x - 3.0 < 0.0 ) return 0.0;\n            // skip computation inside M2 - http://iquilezles.org/www/articles/mset_2bulb/mset2bulb.htm\n            if( 16.0*(c2+2.0*c.x+1.0) - 1.0 < 0.0 ) return 0.0;\n        }\n    \n        float l = 0.0;\n        vec2 z  = vec2(0.0);\n        for( int i=0; i<MAXI; i++ )\n        {\n            z = vec2( z.x*z.x - z.y*z.y, 2.0*z.x*z.y ) + c;\n            if( dot(z,z)>(B*B) ) break;\n            l += 1.0;\n        }\n    \n        // maxed out iterations\n        if( l>float(MAXI)-1.0 ) return 0.0;\n        \n        // optimized smooth interation count\n        l = l - log2(log2(dot(z,z))) + 4.0;\n    \n        return l;\n    }\n    \n    void main() {    \n        // set the initial colour to black\n        vec3 col = vec3(0.0);\n    \n        // anti-aliasing\n        #if AA>1\n        for( int m=0; m<AA; m++ )\n        for( int n=0; n<AA; n++ )\n        {\n            // vec2 p = (-iResolution.xy + 2.0*(fragCoord.xy+vec2(float(m),float(n))/float(AA)))/iResolution.y;\n            vec2 p = (2.0*(gl_FragCoord.xy + vec2(float(m), float(n)) / float(AA) ) - resolution.xy)/resolution.y;\n            float w = float(AA*m+n);\n        #else    \n            // adjust pixels to range from [-1, 1]\n            vec2 p = (2.0*gl_FragCoord.xy - resolution.xy)/resolution.y;\n        #endif\n    \n        // c is based on offset and grid position, z_0 = 0\n        vec2 c = u_xy + p/u_zoom;\n        \n        float l = mandelbrot(c);\n        col += 0.5 + 0.5*cos( 3.0 + l*0.15 + vec3(0.0,0.6,1.0));\n    \n        // antialiasing\n        #if AA>1\n        }\n        col /= float(AA*AA);\n        #endif\n    \n        #if show_crosshair\n        if (crosshair(gl_FragCoord.x, gl_FragCoord.y)) {\n            col = 1. - col;\n        }\n        #endif\n    \n        // Output to screen\n        gl_FragColor = vec4( col, 1.0 );\n    }\n    ')},je=function(e){return o.a.createElement(d.a,{in:e.show},o.a.createElement(f.a,{style:{position:"fixed",top:0,left:0,padding:"4px 12px",margin:6,fontFamily:"monospace",borderRadius:100,fontSize:"1.8rem",zIndex:1300,userSelect:"none"}},o.a.createElement(u.a.div,null,e.fps)))};function Oe(e){var t=Object(a.useRef)(),n=Object(a.useRef)(),r=Object(a.useRef)(),i=Object(a.useRef)(),l=e.screenmult,s=Object(c.a)(e.controls.xyCtrl,1)[0].xy,u=Object(c.a)(e.controls.zoomCtrl,2),m=u[0].zoom,d=u[1],f=e.maxI,g=e.useAA?2:1,p=Ee({maxI:f,AA:g},e.showCrosshair,we),b=Ee({maxI:f,AA:2},e.showCrosshair,xe),h=Object(a.useState)(!1),v=Object(c.a)(h,2),y=v[0],w=v[1],x=me({domTarget:t,posControl:e.controls.xyCtrl,zoomControl:e.controls.zoomCtrl,screenScaleMultiplier:l/(e.useDPR?window.devicePixelRatio:1),gl:r,setDragging:w}),E=Object(Q.b)(x.binds,x.config);Object(a.useEffect)(E,[E]);var j=Object(a.useState)(0),O=Object(c.a)(j,2),z=O[0],C=O[1];return o.a.createElement(be.Consumer,null,(function(e){var a=e.settings;return o.a.createElement("div",{className:"renderer",style:{position:"relative"}},o.a.createElement(je,{fps:z,show:a.showFPS}),o.a.createElement(ce,{id:"mandelbrot",fragShader:p,useDPR:a.useDPR,u:{zoom:m,xy:s,maxI:f,screenScaleMultiplier:l},ref:t,glRef:r,fps:C,dragging:y}),o.a.createElement(le,{fragShader:b,useDPR:a.useDPR,u:{zoom:m,xy:s,maxI:f,screenScaleMultiplier:l},canvasRef:n,glRef:i,show:a.showMinimap,onClick:function(){return d({zoom:1})}}))}))}var ze=n(25),Ce=n(288),Ae=n(289),ke=n(250),Se=n(247),Re=n(291),_e=n(292),Ie=n(215),Me=n.n(Ie),Pe=n(214),Fe=n.n(Pe),Be=n(216),De=n.n(Be),Te=Object(Ce.a)((function(e){return{root:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2),display:"flex",flexDirection:"column",zIndex:2},button:{padding:"6px 12px",marginTop:10},sliderControl:{width:30}}})),Ne=function(){return o.a.createElement(R.a,{style:{marginTop:10,marginBottom:4}})},We=function(e){return o.a.createElement(g.a,{variant:"overline",style:{fontSize:14,marginBottom:4}},e.title)};function Ve(e){var t=Te(),n=Object(a.useState)(),r=Object(c.a)(n,2),i=r[0],l=r[1],u=function(){return o.a.createElement(v.a,{startIcon:o.a.createElement(Fe.a,null),color:"secondary","aria-controls":"reset",onClick:function(){e.reset()},className:t.button},"Reset")},m=function(){return o.a.createElement(v.a,{startIcon:o.a.createElement(Me.a,null),color:"primary","aria-controls":"about",onClick:function(){e.toggleInfo(),l(void 0)},className:t.button},"About")};return o.a.createElement("div",{className:t.root},o.a.createElement(Ae.a,{"aria-controls":"menu","aria-haspopup":"true","aria-label":"settings",size:"small",onClick:function(e){return l(e.currentTarget)}},o.a.createElement(De.a,null)),o.a.createElement(ke.a,{open:Boolean(i)},o.a.createElement(Se.a,{id:"menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:function(){return l(void 0)},anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{vertical:"bottom",horizontal:"right"}},o.a.createElement(s.a,{container:!0,direction:"column",style:{paddingLeft:"1.5em",paddingRight:"1.5em",paddingTop:"1em",paddingBottom:"1em"}},o.a.createElement(s.a,{item:!0,container:!0,alignItems:"center",justify:"space-around"},o.a.createElement(s.a,{item:!0},o.a.createElement(g.a,{variant:"h1",style:{fontSize:20,padding:10}},"Configuration"))),o.a.createElement(be.Consumer,null,(function(e){var t=e.setSettings;return function(e){return[{name:"Interface",widgets:[e.showMinimap,e.showCrosshair,e.showCoordinates]},{name:"Graphics",widgets:[e.maxI,e.useDPR,e.useAA,e.showFPS]}]}(e.settingsWidgets).map((function(e){return o.a.createElement(s.a,{item:!0,key:e.name},o.a.createElement(Ne,null),o.a.createElement(We,{title:e.name}),o.a.createElement(Re.a,null,e.widgets.map((function(e){return o.a.createElement(_e.a,Object.assign({key:"".concat(e.label,"-control"),style:{userSelect:"none"}},e,{onChange:function(n,a){console.log("".concat(e.k," -> ").concat(a)),t((function(t){return Object(ae.a)(Object(ae.a)({},t),{},Object(ze.a)({},e.k,a))}))}}))}))))}))})),o.a.createElement(Ne,null),o.a.createElement(s.a,{container:!0,direction:"row",justify:"space-between",alignItems:"stretch"},o.a.createElement(s.a,{item:!0},o.a.createElement(u,null)),o.a.createElement(s.a,{item:!0},o.a.createElement(m,null)))))))}var Le={mass:1,tension:100,friction:200},qe={mass:1,tension:200,friction:75},Ze={mass:1,tension:300,friction:60};var Je=function(){var e=function(){var e="object"===typeof window,t=Object(a.useCallback)((function(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}),[e]),n=Object(a.useState)(t),o=Object(c.a)(n,2),r=o[0],i=o[1];return Object(a.useEffect)((function(){if(!e)return function(){};function n(){i(t())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[t,e]),r}(),t=[-.7746931,.1242266],n={xyCtrl:Object(u.b)((function(){return{xy:Object(m.vScale)(1/1e-7,t),config:Le}})),rotCtrl:Object(u.b)((function(){return{theta:0,config:Le}})),zoomCtrl:Object(u.b)((function(){return{zoom:85,minZoom:.5,maxZoom:1e5,config:{mass:1,tension:600,friction:50}}}))},r={xyCtrl:Object(u.b)((function(){return{xy:[0,0],config:Le}})),rotCtrl:Object(u.b)((function(){return{theta:0,config:Le}})),zoomCtrl:Object(u.b)((function(){return{zoom:.5,minZoom:.5,maxZoom:1e5,config:{mass:1,tension:600,friction:50}}}))},i=Object(a.useState)(!1),d=Object(c.a)(i,2),f=d[0],g=d[1];return o.a.createElement(l.a,{theme:ne},o.a.createElement(he,null,o.a.createElement(s.a,{container:!0},o.a.createElement(be.Consumer,null,(function(t){var a=t.settings;return o.a.createElement(s.a,{item:!0,container:!0,direction:(e.width||1)<(e.height||0)?"column-reverse":"row",justify:"center",className:"fullSize",style:{position:"absolute"}},o.a.createElement("div",{style:{position:"absolute",right:0,top:0,margin:20,width:"auto"}},o.a.createElement(p,{show:a.showCoordinates,mandelbrot:n.xyCtrl[0].xy,screenScaleMultiplier:1e-7}),o.a.createElement(y,{show:a.showCoordinates,mandelbrot:n,screenScaleMultiplier:1e-7})),o.a.createElement(s.a,{item:!0,xs:!0,className:"renderer"},o.a.createElement(Oe,Object.assign({controls:n,screenmult:1e-7},a))),o.a.createElement(s.a,{item:!0,xs:!0,className:"renderer"},o.a.createElement(ve,Object.assign({c:n.xyCtrl[0].xy,controls:r,screenmult:1e-7},a))))})),o.a.createElement(Ve,{reset:function(){return n.xyCtrl[1]({xy:[0,0],config:qe}),n.zoomCtrl[1]({zoom:1,config:Ze}),r.xyCtrl[1]({xy:[0,0],config:qe}),void r.zoomCtrl[1]({zoom:1,config:Ze})},toggleInfo:function(){return g(!f)}}),o.a.createElement(H,{ctrl:[f,g]}))))},Ue=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Xe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(o.a.createElement(Je,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/mandelbrot-maps",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/mandelbrot-maps","/service-worker.js");Ue?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Xe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Xe(t,e)}))}}()}},[[228,1,2]]]);
//# sourceMappingURL=main.7bd6f42c.chunk.js.map