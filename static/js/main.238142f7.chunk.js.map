{"version":3,"sources":["shaders/newSmoothMandelbrotShader.js","shaders/fullVertexShader.js","components/WebGLCanvas.jsx","components/utils.js","components/MandelbrotRenderer.jsx","shaders/newSmoothJuliaShader.js","components/JuliaRenderer.jsx","components/SettingsMenu.jsx","components/InfoDialog.jsx","App.js","serviceWorker.js","index.js"],"names":["newSmoothMandelbrotShader","_ref","_ref$maxI","maxI","_ref$AA","AA","_ref$B","B","crosshair","arguments","length","undefined","stroke","radius","concat","toFixed","fullscreenVertexArray","position","numComponents","data","React","forwardRef","ref","_ref$mini","mini","props","Object","objectWithoutProperties","gl","glRef","renderRequestRef","useRef","bufferInfo","programInfo","u","setFps","fps","zoom","getValue","currZoom","dpr","useEffect","current","getContext","twgl","then","frames","elapsedTime","render","useCallback","time","canvas","viewport","width","height","uniforms","resolution","u_zoom","u_c","c","map","x","screenScaleMultiplier","u_pos","scale","pos","u_maxI","useProgram","program","requestAnimationFrame","fragShader","cancelAnimationFrame","react_default","a","createElement","web","id","className","genericTouchBind","domTarget","posControl","zoomControl","_posControl","slicedToArray","setControlPos","_zoomControl","_zoomControl$","minZoom","maxZoom","setControlZoom","binds","onDragStart","_ref2","event","preventDefault","onPinchStart","_ref3","onPinch","_ref4","vd","vdva","down","dx","delta","origin","first","_ref4$memo","memo","_ref4$z","z","newZ","newZclamp","_","clamp","immediate","config","velocity","onWheel","_ref5","my","movement","active","_ref5$z","onDrag","_ref6","direction","pinching","_ref6$memo","realZoom","plotMovement","relMove","relDir","addV","decay","passive","capture","MandelbrotRenderer","canvasRef","miniCanvasRef","miniGl","screenmult","controls","_props$controls$zoom","maxiter","aa","miniFragShader","gtb","touchBind","useGesture","_useState","useState","_useState2","style","showFps","Card","top","left","padding","margin","div","fontFamily","WebGLCanvas","enableMini","zIndex","bottom","miniSize","borderRadius","boxShadow","overflow","opacity","interpolate","display","onClick","newSmoothJuliaShader","JuliaRenderer","useStyles","makeStyles","theme","root","spacing","right","flexDirection","button","marginTop","sliderControl","SettingsMenu","classes","_React$useState","_React$useState2","anchorEl","setAnchorEl","Fab","aria-controls","aria-haspopup","aria-label","size","e","currentTarget","Settings_default","Backdrop","open","Boolean","Popover","keepMounted","onClose","anchorOrigin","horizontal","vertical","transformOrigin","Grid","container","paddingLeft","paddingRight","paddingTop","paddingBottom","item","alignItems","justify","Typography","variant","fontSize","Divider","orientation","flexItem","IconButton","toggleInfo","Info_default","settings","group","key","title","marginBottom","FormGroup","values","items","ctrl","FormControlLabel","label","name","control","labelPlacement","placement","marginLeft","marginRight","Button","reset","startIcon","MyLocation_default","dateTimeStamp","DialogTitle","withStyles","image","closeButton","color","palette","grey","children","other","assign","disableTypography","src","alt","Close_default","DialogContent","MuiDialogContent","DialogActions","MuiDialogActions","Alert","elevation","InfoDialog","_props$ctrl","setOpen","snackBarOpen","setSnackBarOpen","handleClose","clientData","window","jscd","Dialog","aria-labelledby","maxWidth","InfoDialog_DialogTitle","InfoDialog_DialogContent","dividers","gutterBottom","Link","href","target","Box","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","align","colSpan","TableBody","entries","k","v","String","InfoDialog_DialogActions","navigator","clipboard","writeText","prompt","writeToClipboard","JSON","stringify","FileCopy_default","Snackbar","autoHideDuration","InfoDialog_Alert","severity","autoFocus","surveyLink","Launch_default","App","isClient","getSize","innerWidth","innerHeight","windowSize","setWindowSize","handleResize","addEventListener","removeEventListener","useWindowSize","defaultSpringConfig","mass","tension","friction","setDpr","startPos","mandelbrotControls","useSpring","rot","theta","last_pointer_angle","itheta","last_pointer_dist","juliaControls","resetPosSpringConfig","resetZoomSpringConfig","_useState3","_useState4","showInfo","setShowInfo","miniViewer","coords","toggleVal","setV","Switch","checked","onChange","iterations","Slider","min","max","step","defaultValue","valueLabelDisplay","value","marks","val","devicePixelRatio","useDpr","span","y","xs","isLocalhost","location","hostname","match","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","src_App","document","getElementById","URL","process","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.238142f7.chunk.js","sourcesContent":["// TODO set max iterations as parameter, crosshair as parameter\r\n\r\nconst newSmoothMandelbrotShader = ({\r\n        maxI = 300, \r\n        AA = 1, \r\n        B = 64\r\n    },\r\n    crosshair = {\r\n        stroke: 2, \r\n        radius: 100, \r\n    }\r\n) => `\r\n// Adapted by Joao Maio/2019, based on work by inigo quilez - iq/2013\r\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\r\n\r\n// See here for more information on smooth iteration count:\r\n// http://iquilezles.org/www/articles/mset_smooth/mset_smooth.htm\r\n\r\n// render parameters\r\n#define AA ${AA}\r\n#define MAXI ${maxI}\r\n#define B ${B.toFixed(1)}\r\n\r\n// crosshair parameters\r\n#define cross_stroke ${crosshair.stroke.toFixed(1)}\r\n#define cross_radius ${crosshair.radius.toFixed(1)}\r\n\r\n// set high float precision (lower than this may break colours on mobile)\r\nprecision highp float;\r\n\r\n// need to know the resolution of the canvas\r\nuniform vec2 resolution;\r\n\r\n// properties should be passed as uniforms\r\nuniform int   u_maxI;  \r\nuniform vec2  u_pos;\r\nuniform float u_zoom;\r\nuniform float u_theta;\r\n\r\nbool crosshair( float x, float y ) {\r\n    float abs_x = abs(2.0*x - resolution.x);\r\n    float abs_y = abs(2.0*y - resolution.y);\r\n\r\n    return \r\n    // crosshair in centre of screen\r\n    (abs_x <= cross_stroke || abs_y <= cross_stroke) &&\r\n    // crosshair size / \"radius\"\r\n    (abs_x <= cross_radius && abs_y <= cross_radius);\r\n}\r\n\r\nfloat mandelbrot( in vec2 c ) {\r\n    {\r\n        float c2 = dot(c, c);\r\n        // skip computation inside M1 - http://iquilezles.org/www/articles/mset_1bulb/mset1bulb.htm\r\n        if( 256.0*c2*c2 - 96.0*c2 + 32.0*c.x - 3.0 < 0.0 ) return 0.0;\r\n        // skip computation inside M2 - http://iquilezles.org/www/articles/mset_2bulb/mset2bulb.htm\r\n        if( 16.0*(c2+2.0*c.x+1.0) - 1.0 < 0.0 ) return 0.0;\r\n    }\r\n\r\n    float l = 0.0;\r\n    vec2 z  = vec2(0.0);\r\n    for( int i=0; i<MAXI; i++ )\r\n    {\r\n        z = vec2( z.x*z.x - z.y*z.y, 2.0*z.x*z.y ) + c;\r\n        if( dot(z,z)>(B*B) ) break;\r\n        l += 1.0;\r\n    }\r\n\r\n    // maxed out iterations\r\n    if( l>float(MAXI)-1.0 ) return 0.0;\r\n    \r\n    // optimized smooth interation count\r\n    l = l - log2(log2(dot(z,z))) + 4.0;\r\n\r\n    return l;\r\n}\r\n\r\nvoid main() {    \r\n    // set the initial colour to black\r\n    vec3 col = vec3(0.0);\r\n\r\n    // anti-aliasing\r\n    #if AA>1\r\n    for( int m=0; m<AA; m++ )\r\n    for( int n=0; n<AA; n++ )\r\n    {\r\n        // vec2 p = (-iResolution.xy + 2.0*(fragCoord.xy+vec2(float(m),float(n))/float(AA)))/iResolution.y;\r\n        vec2 p = (2.0*(gl_FragCoord.xy + vec2(float(m), float(n)) / float(AA) ) - resolution.xy)/resolution.y;\r\n        float w = float(AA*m+n);\r\n    #else    \r\n        // adjust pixels to range from [-1, 1]\r\n        vec2 p = (2.0*gl_FragCoord.xy - resolution.xy)/resolution.y;\r\n    #endif\r\n\r\n    // c is based on offset and grid position, z_0 = 0\r\n    vec2 c = u_pos + p/u_zoom;\r\n    \r\n    float l = mandelbrot(c);\r\n    col += 0.5 + 0.5*cos( 3.0 + l*0.15 + vec3(0.0,0.6,1.0));\r\n\r\n    // antialiasing\r\n    #if AA>1\r\n    }\r\n    col /= float(AA*AA);\r\n    #endif\r\n\r\n    // add crosshair\r\n    if (crosshair(gl_FragCoord.x, gl_FragCoord.y)) {\r\n        col = 1. - col;\r\n    }\r\n\r\n    // Output to screen\r\n    gl_FragColor = vec4( col, 1.0 );\r\n}\r\n`;\r\n\r\nexport default newSmoothMandelbrotShader;\r\n","export const fullVertexShader = `\nattribute vec4 position;\n\nvoid main() {\n  gl_Position = position;\n}\n`;\n\n// This \"position\" array specifies the vertex positions of the element \n// to be displayed by the vertex shader. It represents two triangles,\n// each filling half of the screen diagonally, and together filling the\n// full canvas space to allow the fragment shader to act on the full canvas.\nexport const fullscreenVertexArray = {\n  position: {\n    numComponents: 3,\n    data: [\n    -1, -1, 0, \n     1, -1, 0, \n    -1,  1, 0, \n    -1,  1, 0, \n     1, -1, 0, \n     1,  1, 0\n  ]},\n};\n","import React, { useEffect, useCallback, useRef } from \"react\";\r\nimport * as twgl from \"twgl.js\";\r\nimport { fullVertexShader, fullscreenVertexArray } from \"../shaders/fullVertexShader\";\r\nimport { scale } from 'vec-la';\r\nimport { animated } from \"react-spring\";\r\n\r\nexport default React.forwardRef(({mini = false, ...props}, ref) => {\r\n  // props:\r\n  // id\r\n  // fragShader\r\n  // -- uniforms:\r\n  //    u_zoom\r\n  //    u_pos\r\n  //    u_maxI\r\n  // ref\r\n  // glRef\r\n\r\n  // variables to hold canvas and webgl information\r\n  const gl               = props.glRef;\r\n  const renderRequestRef = useRef(null);\r\n  const bufferInfo       = useRef(null);\r\n  const programInfo      = useRef(null);\r\n\r\n  const u = props.u;\r\n  const setFps = props.fps;\r\n\r\n  // have a zoom callback\r\n  const zoom = mini ? () => 1.0 : () => props.u.zoom.getValue();\r\n  const currZoom = useRef(zoom);\r\n\r\n  const dpr = props.dpr || 1;\r\n\r\n  useEffect(() => {\r\n    currZoom.current = props.u.zoom.getValue();\r\n  }, [props.u]);\r\n\r\n  // initial context-getter\r\n  useEffect(() => {\r\n    gl.current = ref.current.getContext('webgl');\r\n    // console.log(`got canvas context: ${gl.current}`);\r\n    bufferInfo.current = twgl.createBufferInfoFromArrays(gl.current, fullscreenVertexArray);\r\n  }, [gl, ref]);\r\n\r\n  \r\n  let then = useRef(0);\r\n  let frames = useRef(0);\r\n  let elapsedTime = useRef(0);\r\n  let interval = 1000;\r\n  // let mult = 1000 / interval;\r\n  // the main render function for WebGL\r\n  const render = useCallback(time => {\r\n    twgl.resizeCanvasToDisplaySize(gl.current.canvas, dpr);\r\n    gl.current.viewport(0, 0, gl.current.canvas.width, gl.current.canvas.height);\r\n\r\n    const uniforms = {\r\n      resolution: [gl.current.canvas.width, gl.current.canvas.height],\r\n      u_zoom: zoom(),\r\n      u_c:    u.c === undefined ? 0 : u.c.getValue().map(x => x * u.screenScaleMultiplier),\r\n      u_pos:  scale(u.pos.getValue(), u.screenScaleMultiplier),\r\n      u_maxI: u.maxI,\r\n    };\r\n\r\n    gl.current.useProgram(programInfo.current.program);\r\n    twgl.setBuffersAndAttributes(gl.current, programInfo.current, bufferInfo.current);\r\n    twgl.setUniforms(programInfo.current, uniforms);\r\n    twgl.drawBufferInfo(gl.current, bufferInfo.current);\r\n\r\n    // calculate fps\r\n    if (setFps !== undefined) {\r\n      frames.current++;\r\n      elapsedTime.current += (time - then.current);\r\n      then.current = time;\r\n      \r\n      // console.log(elapsedTime.current);\r\n      if (elapsedTime.current >= interval) {\r\n          //multiply with (1000 / elapsed) for accuracy\r\n          setFps((frames.current * (interval / elapsedTime.current)).toFixed(1));\r\n          frames.current = 0;\r\n          elapsedTime.current -= interval;\r\n\r\n          // document.getElementById('test').innerHTML = fps;\r\n      }\r\n      // time *= 0.001;                      // convert to seconds\r\n      // const deltaTime = time - then.current; // compute time since last frame\r\n      // then.current = time;                // remember time for next frame\r\n      // const fs = 1 / deltaTime;           // compute frames per second\r\n      // console.log(fs);\r\n      // (fs.toFixed(1));  // update fps display\r\n    }\r\n\r\n    // The 'state' will always be the initial value here\r\n    renderRequestRef.current = requestAnimationFrame(render);\r\n    \r\n  }, [gl, u, zoom, dpr, setFps, interval]);\r\n\r\n  // re-compile program if shader changes\r\n  useEffect(() => {\r\n    programInfo.current = twgl.createProgramInfo(gl.current, [fullVertexShader, props.fragShader]);\r\n  }, [gl, props.fragShader]);\r\n\r\n  // \r\n  useEffect(() => {\r\n    renderRequestRef.current = requestAnimationFrame(render);\r\n    return () => cancelAnimationFrame(renderRequestRef.current);\r\n  }, [render]);\r\n\r\n  return (\r\n    <animated.canvas\r\n      id={props.id}\r\n      className=\"renderer\"\r\n      ref={ref} />\r\n  );\r\n});","import { useEffect, useState, useCallback } from \"react\";\r\nimport { addV } from \"react-use-gesture\";\r\nimport { scale } from \"vec-la\";\r\nimport _ from \"lodash\";\r\n\r\n// https://usehooks.com/useWindowSize/\r\nexport function useWindowSize() {\r\n  const isClient = typeof window === 'object';\r\n\r\n  const getSize = useCallback(() => ({\r\n    width: isClient ? window.innerWidth : undefined,\r\n    height: isClient ? window.innerHeight : undefined\r\n  }), [isClient]);\r\n\r\n  const [windowSize, setWindowSize] = useState(getSize);\r\n\r\n  useEffect(() => {\r\n    if (!isClient) {\r\n      // return false;\r\n      return () => {};\r\n    }\r\n    \r\n    function handleResize() {\r\n      setWindowSize(getSize());\r\n    }\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, [getSize, isClient]); // Empty array ensures that effect is only run on mount and unmount\r\n\r\n  return windowSize;\r\n}\r\n\r\n// a touchbind for re-using across renderers\r\nexport function genericTouchBind({ domTarget, posControl, zoomControl, screenScaleMultiplier, gl }) {\r\n  let [{ pos }, setControlPos] = posControl;\r\n  let [{ zoom, minZoom, maxZoom }, setControlZoom] = zoomControl;\r\n  return {\r\n    binds: {\r\n\r\n    // prevent some browser events such as swipe-based navigation or\r\n    // pinch-based zoom and instead redirect them to this handler\r\n    onDragStart:  ({ event }) => event.preventDefault(),\r\n    onPinchStart: ({ event }) => event.preventDefault(),\r\n\r\n    onPinch: ({ vdva: [vd,], down, delta: [dx,], origin, first, memo = [pos.getValue()], z = zoom.getValue() }) => {\r\n      if (first) {\r\n        let [p] = memo;\r\n        return [p, origin];\r\n      }\r\n      // initial origin access\r\n      // let [p, initialOrigin] = memo;\r\n      let newZ = z * (1 + dx * 5e-3);\r\n      let newZclamp = _.clamp(newZ, minZoom.getValue(), maxZoom.getValue());\r\n\r\n      // let realZoom = gl.current.canvas.height * newZclamp * screenScaleMultiplier;\r\n      // let plotMovement = scale(subV(origin, initialOrigin), -2/realZoom);\r\n      // let relMove = [plotMovement[0], -plotMovement[1]];\r\n\r\n      setControlZoom({\r\n        zoom: newZclamp,\r\n        immediate: down,\r\n        config: {\r\n          // value needs revising, currently too slow\r\n          velocity: 10 * vd,\r\n        }\r\n      });\r\n\r\n      // setControlPos({\r\n      //   pos: addV(p, relMove),                    // add the displacement to the starting position\r\n      //   immediate: down,                                  // immediately apply if the gesture is active\r\n      // });\r\n\r\n      return memo;\r\n    },\r\n\r\n    onWheel: ({ movement: [, my], active, z = zoom.getValue() }) => {\r\n      // x, y obtained from event\r\n      let newZ = z * (1 - my * (my < 0 ? 3e-4 : 2e-4));\r\n\r\n      setControlZoom({\r\n        zoom: _.clamp(newZ, minZoom.getValue(), maxZoom.getValue()),\r\n        immediate: active,\r\n        config: {\r\n          // velocity: active ? 0 : 10,\r\n        }\r\n      });\r\n\r\n      return z;\r\n    },\r\n\r\n    onDrag: ({ down, movement, velocity, direction, pinching, memo = pos.getValue() }) => {\r\n\r\n      // let pinch handle movement\r\n      if (pinching) return;\r\n      // change according to this formula:\r\n      // move (x, y) in the opposite direction of drag (pan with cursor)\r\n      // divide by canvas size to scale appropriately\r\n      // multiply by 2 to correct scaling on viewport\r\n      // use screen multiplier for more granularity\r\n      let realZoom = gl.current.canvas.height * zoom.getValue() * screenScaleMultiplier;\r\n      \r\n      let plotMovement = scale(movement, -2/realZoom);\r\n\r\n      let relMove = [plotMovement[0], -plotMovement[1]];\r\n      let relDir  = [direction[0], -direction[1]];\r\n\r\n      setControlPos({\r\n        pos: addV(memo, relMove),                    // add the displacement to the starting position\r\n        immediate: down,                                  // immediately apply if the gesture is active\r\n        config: { \r\n          velocity: scale(relDir, -velocity/realZoom),  // set the velocity (gesture momentum)\r\n          decay: true,\r\n        },\r\n      });\r\n\r\n      return memo;\r\n    },\r\n\r\n  },\r\n  config: { \r\n    event: { passive: false, capture: false }, \r\n    domTarget: domTarget,\r\n    // The config object passed to useGesture has drag, wheel, scroll, pinch and move keys\r\n    // for specific gesture options. See here for more details.\r\n    // drag: {\r\n    //   bounds,\r\n    //   rubberband: true,\r\n    // }\r\n  }};\r\n}","import React, { useRef, useEffect, useState } from \"react\";\r\nimport _ from 'lodash';\r\n\r\nimport { useGesture } from \"react-use-gesture\";\r\nimport { animated } from \"react-spring\";\r\n\r\nimport newSmoothMandelbrotShader from \"../shaders/newSmoothMandelbrotShader\";\r\nimport WebGLCanvas from \"./WebGLCanvas\";\r\nimport { genericTouchBind } from \"./utils\";\r\nimport { Card } from \"@material-ui/core\";\r\n\r\nexport default function MandelbrotRenderer(props) {\r\n\r\n  // variables to hold canvas and webgl information\r\n  const canvasRef = useRef(null);\r\n  const miniCanvasRef = useRef(null);\r\n  \r\n  const gl = useRef(null);\r\n  const miniGl = useRef(null);\r\n\r\n  // this multiplier subdivides the screen space into smaller increments\r\n  // to allow for velocity calculations to not immediately decay, due to the\r\n  // otherwise small scale that is being mapped to the screen.\r\n  const screenScaleMultiplier = props.screenmult;\r\n\r\n  // temporary bounds to prevent excessive panning\r\n  // eslint-disable-next-line\r\n  const radialBound = 1;\r\n  // const relativeRadialBound = radialBound;// / -screenScaleMultiplier;\r\n\r\n\r\n  // read incoming props\r\n  const [{ pos }] = props.controls.pos;\r\n  // const [{ theta, last_pointer_angle }, setControlRot] = props.controls.rot;\r\n  const [{ zoom }, setControlZoom] = props.controls.zoom;\r\n  const maxI = props.maxiter;\r\n  const AA = props.aa ? 2 : 1;\r\n\r\n  const fragShader = newSmoothMandelbrotShader({\r\n    maxI: maxI,\r\n    AA: AA,\r\n  }, {\r\n    stroke: props.crosshair ? 2 : 0,\r\n    radius: props.crosshair ? 100 : 0,\r\n  });\r\n  const miniFragShader = newSmoothMandelbrotShader({\r\n    maxI: maxI,\r\n    AA: 2, \r\n  }, {\r\n    stroke: props.crosshair ? 1 : 0,\r\n    radius: props.crosshair ? 30 : 0,\r\n  });\r\n\r\n  \r\n  let gtb = genericTouchBind({\r\n    domTarget: canvasRef,\r\n    posControl: props.controls.pos,\r\n    zoomControl: props.controls.zoom,\r\n    screenScaleMultiplier: screenScaleMultiplier / props.dpr,\r\n    gl: gl,\r\n  });\r\n\r\n  let touchBind = useGesture(\r\n    gtb.binds,\r\n    gtb.config\r\n  );\r\n\r\n  useEffect(touchBind, [touchBind]);  \r\n\r\n  const [fps, setFps] = useState(0);\r\n\r\n  return (\r\n    <div className=\"renderer\" style={{\r\n      position: \"relative\"\r\n    }}>\r\n      {props.showFps ?\r\n        <Card style={{ position: \"absolute\", top: 0, left: 0, padding: 4, margin: 4 }}>\r\n          <animated.div style={{ fontFamily: \"monospace\"}}>\r\n            {fps}\r\n          </animated.div>\r\n        </Card> :\r\n        null\r\n      }\r\n      <WebGLCanvas \r\n        id=\"mandelbrot\"\r\n        fragShader={fragShader}\r\n        dpr={props.dpr}\r\n        touchBind={touchBind}\r\n        u={{\r\n          zoom: zoom,\r\n          pos: pos,\r\n          maxI: maxI,\r\n          screenScaleMultiplier: screenScaleMultiplier,\r\n        }}\r\n        ref={canvasRef}\r\n        glRef={gl}\r\n        fps={setFps}\r\n      />\r\n      {props.enableMini ? \r\n      <animated.div style={{\r\n        position: \"absolute\",\r\n        zIndex: 2,\r\n        margin: \"0.5rem\",\r\n        left: 0,\r\n        bottom: 0,\r\n        height: props.miniSize[0],\r\n        width: props.miniSize[0],\r\n        borderRadius: props.miniSize[0],\r\n        // border: \"1px solid #000\",\r\n        boxShadow: \"0px 2px 10px 1px rgba(0, 0, 0, 0.4)\",\r\n        overflow: \"hidden\",\r\n        opacity: zoom.interpolate(z => _.clamp(z - 1, 0, 1)),\r\n        display: zoom.interpolate(z => _.clamp(z - 1, 0, 1) === 0 ? \"none\" : \"block\"),\r\n      }}\r\n      onClick={() => setControlZoom({ zoom: 1 })}\r\n      >\r\n        <WebGLCanvas \r\n          id=\"mini-mandelbrot\"\r\n          fragShader={miniFragShader}\r\n          dpr={props.dpr}\r\n          u={{\r\n            zoom: zoom,\r\n            pos: pos,\r\n            maxI: maxI,\r\n            screenScaleMultiplier: screenScaleMultiplier,\r\n          }}\r\n          ref={miniCanvasRef}\r\n          glRef={miniGl}\r\n          \r\n          mini={true}\r\n        />\r\n      </animated.div>\r\n      : <div />\r\n      }\r\n    </div>\r\n  )\r\n\r\n\r\n}","// TODO set max iterations as parameter\n\nconst newSmoothJuliaShader = ({\n  maxI = 300, \n  AA = 1, \n  B = 64, \n  // crosshair = {\n  //     stroke: 0, \n  //     radius: 0\n  // },\n}) => `\n\n#define AA ${AA}\n#define MAXI ${maxI}\n#define B ${B.toFixed(1)}\n\n// set high float precision (lower than this may break colours on mobile)\nprecision highp float;\n\n// need to know the resolution of the canvas\nuniform vec2 resolution;\n\n// properties should be passed as uniforms\nuniform int   u_maxI;\nuniform vec2  u_pos;\nuniform vec2  u_c;\nuniform float u_zoom;\nuniform float u_theta;\n\nfloat julia( vec2 z, vec2 c ) {\n\n  float l = 0.0;\n  for( int i=0; i<MAXI; i++ )\n  {\n      z = vec2( z.x*z.x - z.y*z.y, 2.0*z.x*z.y ) + c;\n      if( dot(z,z)>(B*B) ) break;\n      l += 1.0;\n  }\n\n  // maxed out iterations\n  if( l>float(MAXI)-1.0 ) return 0.0;\n\n  // equivalent optimized smooth interation count\n  l = l - log2(log2(dot(z,z))) + 4.0;\n\n  return l;\n}\n\nvoid main() {    \n  // set the initial colour to black\n  vec3 col = vec3(0.0);\n\n  // anti-aliasing\n  #if AA>1\n  for( int m=0; m<AA; m++ )\n  for( int n=0; n<AA; n++ )\n  {\n      vec2 p = (2.0*(gl_FragCoord.xy + vec2(float(m), float(n)) / float(AA) ) - resolution.xy)/resolution.y;\n      float w = float(AA*m+n);\n  #else    \n      // adjust pixels to range from [-1, 1]\n      vec2 p = (2.0*gl_FragCoord.xy - resolution.xy)/resolution.y;\n  #endif\n  \n  // constant \"c\" to add, based on mandelbrot position\n  vec2 c = u_c;\n  vec2 z = u_pos + p/u_zoom;\n\n  float l = julia(z, c);\n  col += 0.5 + 0.5*cos( 3.0 + l*0.15 + vec3(0.0,0.6,1.0));\n\n  // antialiasing\n  #if AA>1\n  }\n  col /= float(AA*AA);\n  #endif\n\n  // Output to screen\n  gl_FragColor = vec4( col, 1.0 );\n}\n`;\n\nexport default newSmoothJuliaShader;","import React, { useRef, useEffect } from \"react\";\r\nimport { useGesture } from \"react-use-gesture\";\r\nimport { animated } from \"react-spring\";\r\nimport newSmoothJuliaShader from \"../shaders/newSmoothJuliaShader\";\r\nimport _ from \"lodash\";\r\nimport WebGLCanvas from \"./WebGLCanvas\";\r\nimport { genericTouchBind } from \"./utils\";\r\n\r\n\r\nexport default function JuliaRenderer(props) {\r\n\r\n  // variables to hold canvas and webgl information\r\n  const canvasRef = useRef(null);\r\n  const miniCanvasRef = useRef(null);\r\n  \r\n  const gl = useRef(null);\r\n  const miniGl = useRef(null);\r\n\r\n  // this multiplier subdivides the screen space into smaller increments\r\n  // to allow for velocity calculations to not immediately decay, due to the\r\n  // otherwise small scale that is being mapped to the screen.\r\n  const screenScaleMultiplier = props.screenmult;\r\n\r\n  // read incoming props\r\n  const [{ pos }] = props.controls.pos;\r\n  // const [{ theta, last_pointer_angle }, setControlRot] = props.controls.rot;\r\n  const [{ zoom }, setControlZoom] = props.controls.zoom;\r\n  const maxI = props.maxiter;\r\n  const AA = props.aa ? 2 : 1;\r\n\r\n  const fragShader = newSmoothJuliaShader({\r\n    maxI: maxI,\r\n    AA: AA,\r\n  });\r\n\r\n  const miniFragShader = newSmoothJuliaShader({\r\n    maxI: maxI,\r\n    AA: 2, \r\n  });\r\n\r\n  let gtb = genericTouchBind({\r\n    domTarget: canvasRef,\r\n    posControl: props.controls.pos,\r\n    zoomControl: props.controls.zoom,\r\n    screenScaleMultiplier: screenScaleMultiplier / props.dpr,\r\n    gl: gl,\r\n  });\r\n\r\n  let touchBind = useGesture(\r\n    gtb.binds,\r\n    gtb.config\r\n  );\r\n\r\n  useEffect(touchBind, [touchBind]);  \r\n  \r\n  return (\r\n    <div className=\"renderer\" style={{\r\n      position: \"relative\"\r\n    }}>\r\n      <WebGLCanvas\r\n          id=\"julia\"\r\n          fragShader={fragShader}\r\n          dpr={props.dpr}\r\n          u={{\r\n            zoom: zoom,\r\n            pos: pos,\r\n            c: props.c,\r\n            maxI: maxI,\r\n            screenScaleMultiplier: screenScaleMultiplier,\r\n          }}\r\n          ref={canvasRef}\r\n          glRef={gl}\r\n        />\r\n      {/* mini viewer */}\r\n      {props.enableMini ? \r\n        <animated.div style={{\r\n          position: \"absolute\",\r\n          zIndex: 2,\r\n          margin: 20,\r\n          left: 0,\r\n          bottom: 0,\r\n          height: props.miniSize[0],\r\n          width: props.miniSize[0],\r\n          borderRadius: props.miniSize[0],\r\n          // border: \"1px solid #000\",\r\n          boxShadow: \"0px 2px 10px 1px rgba(0, 0, 0, 0.4)\",\r\n          overflow: \"hidden\",\r\n          opacity: zoom.interpolate(z => _.clamp(z - 1, 0, 1)),\r\n          display: zoom.interpolate(z => _.clamp(z - 1, 0, 1) === 0 ? \"none\" : \"block\"),\r\n        }}\r\n        onClick={() => setControlZoom({ zoom: 1 })}\r\n        >\r\n          <WebGLCanvas \r\n            id=\"mini-julia\"\r\n            fragShader={miniFragShader}\r\n            dpr={props.dpr}\r\n            u={{\r\n              zoom: zoom,\r\n              pos: pos,\r\n              c: props.c,\r\n              maxI: maxI,\r\n              screenScaleMultiplier: screenScaleMultiplier,\r\n            }}\r\n            ref={miniCanvasRef}\r\n            glRef={miniGl}\r\n            \r\n            mini={true}\r\n          />\r\n        </animated.div>\r\n        :\r\n        <div />\r\n        }\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport { makeStyles, Fab, Popover, FormGroup, FormControlLabel, Typography, Grid, Divider, Backdrop, IconButton } from '@material-ui/core';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport MyLocationIcon from '@material-ui/icons/MyLocation';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        position: 'absolute',\r\n        bottom: theme.spacing(2),\r\n        right: theme.spacing(2),\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        zIndex: 2,\r\n    },\r\n    button: {\r\n        marginTop: 10,\r\n    },\r\n    sliderControl: {\r\n        width: 30,\r\n    }\r\n}));\r\n\r\nexport default function SettingsMenu(props) {\r\n    const classes = useStyles();\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Fab aria-controls=\"menu\" \r\n                aria-haspopup=\"true\"\r\n                aria-label=\"settings\"\r\n                size=\"small\" \r\n                onClick={(e) => setAnchorEl(e.currentTarget)}\r\n                className={classes.button}\r\n                >\r\n                <SettingsIcon />\r\n            </Fab>\r\n            <Backdrop open={Boolean(anchorEl)}>\r\n                <Popover\r\n                    id=\"menu\"\r\n                    anchorEl={anchorEl}\r\n                    keepMounted\r\n                    open={Boolean(anchorEl)}\r\n                    onClose={() => setAnchorEl(null)}\r\n                    anchorOrigin={{\r\n                        horizontal: \"right\",\r\n                        vertical: \"bottom\"\r\n                    }}\r\n                    transformOrigin={{\r\n                        vertical: \"bottom\",\r\n                        horizontal: \"right\"\r\n                    }}\r\n                >\r\n                    <Grid container direction=\"column\" style={{\r\n                        paddingLeft: \"1.5em\",\r\n                        paddingRight: \"1.5em\",\r\n                        paddingTop: \"1em\",\r\n                        paddingBottom: \"1em\",\r\n                    }}>\r\n                        <Grid item container alignItems=\"center\" justify=\"space-around\">\r\n                            <Grid item>\r\n                                <Typography variant=\"h1\" style={{ fontSize: 20, paddingLeft: 20, paddingRight: 20 }}>\r\n                                    Configuration\r\n                                </Typography>\r\n                            </Grid>\r\n                            <Divider orientation=\"vertical\" flexItem />\r\n                            <Grid item>\r\n                                <IconButton aria-label=\"info\" size=\"medium\" onClick={() => {\r\n                                    // open info panel\r\n                                    props.toggleInfo();\r\n                                    // close popover\r\n                                    setAnchorEl(null);\r\n                                }}>\r\n                                    <InfoIcon fontSize=\"inherit\" />\r\n                                </IconButton>\r\n                            </Grid>\r\n\r\n                        </Grid>\r\n\r\n                        {props.settings.map((group) =>\r\n                            <Grid item key={group.title}>\r\n                                <Divider style={{\r\n                                    marginTop: 10,\r\n                                    marginBottom: 4,\r\n                                }} />\r\n                                <Typography variant=\"overline\" style={{ fontSize: 14, marginBottom: 4 }}>{group.title}</Typography>\r\n                                <FormGroup>\r\n                                {Object.values(group.items).map((ctrl) => \r\n                                    <FormControlLabel \r\n                                        label={ctrl.name}\r\n                                        key={ctrl.name}\r\n                                        control={ctrl.ctrl}\r\n                                        labelPlacement={ctrl.placement ? ctrl.placement : \"end\"}\r\n                                        style={ctrl.placement ? {\r\n                                            marginLeft: 0,\r\n                                            marginRight: 0,\r\n                                        } : {}}\r\n                                    />\r\n                                )}\r\n                                </FormGroup>\r\n                            </Grid>\r\n                        )}\r\n\r\n                        <Divider style={{\r\n                            marginTop: 10,\r\n                            marginBottom: 4,\r\n                        }} />\r\n\r\n                        <Button aria-controls=\"reset\" \r\n                            onClick={() => props.reset()}\r\n                            className={classes.button}\r\n                            startIcon={<MyLocationIcon />}\r\n                            >\r\n                            Reset position\r\n                        </Button>\r\n                    </Grid>\r\n                </Popover>\r\n            </Backdrop>\r\n        </div>\r\n    );\r\n}","import React, { useState } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Link, TableContainer, Table, Paper, TableRow, TableCell, TableHead, TableBody, Box, Divider, Snackbar } from '@material-ui/core';\r\nimport LaunchIcon from '@material-ui/icons/Launch';\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { surveyLink } from './surveyLink.json';\r\n\r\n// for evaluating build time\r\nimport preval from 'preval.macro';\r\n\r\nconst dateTimeStamp = preval`module.exports = new Date();`;\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    // align: \"middle\",\r\n  },\r\n  image: {\r\n    marginTop: \"auto\",\r\n    marginBottom: \"auto\",\r\n    marginRight: 8,\r\n    height: 50,\r\n  },\r\n  closeButton: {\r\n    // position: 'absolute',\r\n    // right: theme.spacing(1),\r\n    // top: theme.spacing(1),\r\n    marginLeft: \"auto\",\r\n    color: theme.palette.grey[500],\r\n  },\r\n});\r\n\r\nconst DialogTitle = withStyles(styles)(props => {\r\n  const { children, classes, onClose, ...other } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n      <img src=\"logo-512.png\" alt=\"Mandelbrot Maps logo\" className={classes.image} />\r\n      <Typography variant=\"h1\" style={{ fontSize: 24, marginTop: \"auto\", marginBottom: \"auto\" }}>{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogContent = withStyles(theme => ({\r\n  root: {\r\n    padding: theme.spacing(3),\r\n  },\r\n}))(MuiDialogContent);\r\n\r\nconst DialogActions = withStyles(theme => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nexport default function InfoDialog(props) {\r\n  const [open, setOpen] = props.ctrl;\r\n  const [snackBarOpen, setSnackBarOpen] = useState(false);\r\n\r\n  const handleClose = () => setOpen(false);\r\n\r\n  // guard against null / undefined window\r\n  const clientData = window.jscd || {};\r\n\r\n  let writeToClipboard = data => {\r\n    try {\r\n      navigator.clipboard.writeText(data);\r\n      setSnackBarOpen(true);\r\n    } catch (e) {\r\n      window.prompt(\"Auto copy to clipboard failed, copy manually from below:\", data)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Dialog onClose={handleClose} aria-labelledby=\"customized-dialog-title\" open={open} maxWidth=\"md\">\r\n      {/* <div style={{ maxWidth: 700 }}> */}\r\n        <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\r\n            Mandelbrot Maps\r\n          </DialogTitle>\r\n        <DialogContent dividers style={{ maxWidth: 700 }}>\r\n          <Typography gutterBottom>\r\n            Mandelbrot Maps is an interactive fractal explorer built using React and WebGL.\r\n          </Typography>\r\n          <Typography gutterBottom>\r\n            Developed by <Link href=\"https://jmaio.github.io/\" target=\"_blank\">Joao Maio</Link> in 2019/2020 as part of an Honours Project at The University of Edinburgh, under the supervision of Philip Wadler.\r\n          </Typography>\r\n          <Typography gutterBottom>\r\n            The project was simultaneously undertaken by Freddie Bawden, also under the supervision of Philip Wadler. \r\n            Freddie's version of the project is available at: <Link href=\"http://mmaps.freddiejbawden.com/\" target=\"_blank\">mmaps.freddiejbawden.com</Link>\r\n          </Typography>\r\n          <Typography gutterBottom>\r\n            The <Link href=\"https://homepages.inf.ed.ac.uk/wadler/mandelbrot-maps/index.html\" target=\"_blank\">original Mandelbrot Maps project</Link> was developed by Iain Parris in 2008 as a Java Applet. \r\n          </Typography>\r\n          <Typography gutterBottom>\r\n            Mandelbrot set shader code adapted from <Link href=\"https://www.shadertoy.com/view/4df3Rn\">Mandelbrot - smooth</Link> by <Link href=\"http://iquilezles.org/\" target=\"_blank\">Inigo Quilez</Link>.\r\n          </Typography>\r\n          {/* <Typography>\r\n            &copy; Joao Maio 2020\r\n          </Typography> */}\r\n\r\n          <Divider style={{ marginTop: 30, marginBottom: 30 }} />\r\n\r\n          <Box style={{ display: \"flex\"}}>\r\n            <TableContainer component={Paper} style={{ width: \"auto\", margin: \"auto\", maxWidth: 460,}}>\r\n              <Table size=\"small\" aria-label=\"a dense table\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell align=\"center\" colSpan={2} variant=\"head\">Device properties</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {Object.entries(clientData).map(([k, v]) => \r\n                    <TableRow key={k}>\r\n                      <TableCell>{k}</TableCell>\r\n                      <TableCell align=\"right\" style={{ fontFamily: \"monospace\"}}>{String(v)}</TableCell>\r\n                    </TableRow>\r\n                  )}\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n          </Box>\r\n          \r\n          <Divider style={{ marginTop: 30, marginBottom: 30 }} />\r\n\r\n          <Box style={{ display: \"flex\"}}>\r\n            <Typography variant=\"overline\" align=\"center\" style={{ margin: \"auto\" }}>\r\n              Build: \r\n              <Typography style={{ fontFamily: \"monospace\" }}>\r\n                {dateTimeStamp}\r\n              </Typography>\r\n              {/* {console.log(new Date(dateTimeStamp).toLocaleString('en-GB', { timeZone: 'UTC' }))} */}\r\n            </Typography>\r\n          </Box>\r\n\r\n        </DialogContent>\r\n\r\n        <DialogActions>\r\n          <Button onClick={() => {writeToClipboard(JSON.stringify(clientData))}} color=\"primary\" variant=\"outlined\" startIcon={<FileCopyIcon />}>Copy</Button>\r\n          <Snackbar open={snackBarOpen} autoHideDuration={5000} onClose={() => setSnackBarOpen(false)}>\r\n            <Alert onClose={() => setSnackBarOpen(false)} severity=\"info\">\r\n              Device properties copied!\r\n            </Alert>\r\n          </Snackbar>\r\n          <Button autoFocus href={surveyLink} target=\"_blank\" color=\"primary\" variant=\"outlined\" startIcon={<LaunchIcon />}>Feedback</Button>\r\n        </DialogActions>\r\n      {/* </div> */}\r\n    </Dialog>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport './App.css';\r\nimport { Grid, Card, Typography, Slider, Switch } from '@material-ui/core';\r\n\r\n// import 'typeface-roboto';\r\nimport MandelbrotRenderer from './components/MandelbrotRenderer.jsx';\r\nimport { useSpring, animated } from 'react-spring';\r\nimport JuliaRenderer from './components/JuliaRenderer';\r\nimport { useWindowSize } from './components/utils';\r\nimport SettingsMenu from \"./components/SettingsMenu\";\r\n\r\nimport InfoDialog from './components/InfoDialog';\r\n\r\nfunction App() {\r\n\r\n  const size = useWindowSize();\r\n\r\n  let defaultSpringConfig = { mass: 1, tension: 100, friction: 200 };\r\n\r\n  // this multiplier subdivides the screen space into smaller increments\r\n  // to allow for velocity calculations to not immediately decay, due to the\r\n  // otherwise small scale that is being mapped to the screen.\r\n  const screenScaleMultiplier = 1e-7;\r\n  // make default device pixel ratio 1\r\n  const [dpr, setDpr] = useState(1);\r\n\r\n  const startPos = [-0.7740798, 0.1230918];\r\n  // const startPos = [-.7426482, .1271875 ];\r\n  // const startPos = [-0.1251491, -0.8599647];\r\n  const startZoom = 165.0;\r\n  const miniSize = useState(100);\r\n\r\n  const mandelbrotControls = {\r\n    pos: useSpring(() => ({\r\n      pos: startPos.map(x => x / screenScaleMultiplier),\r\n      config: defaultSpringConfig,\r\n    })),\r\n\r\n    rot: useSpring(() => ({\r\n      theta: 0,\r\n      last_pointer_angle: 0,\r\n      itheta: 0,\r\n      config: defaultSpringConfig,\r\n    })),\r\n\r\n    zoom: useSpring(() => ({\r\n      zoom: startZoom,\r\n      last_pointer_dist: 0,\r\n  \r\n      minZoom: 0.5,\r\n      maxZoom: 100000,\r\n  \r\n      config: { mass: 1, tension: 600, friction: 50 },\r\n    })),\r\n  };\r\n\r\n  const juliaControls = {\r\n    pos: useSpring(() => ({\r\n      pos: [0, 0],\r\n      config: defaultSpringConfig,\r\n    })),\r\n\r\n    rot: useSpring(() => ({\r\n      theta: 0,\r\n      last_pointer_angle: 0,\r\n      itheta: 0,\r\n      config: defaultSpringConfig,\r\n    })),\r\n\r\n    zoom: useSpring(() => ({\r\n      zoom: 0.5,\r\n      last_pointer_dist: 0,\r\n  \r\n      minZoom: 0.5,\r\n      maxZoom: 100000,\r\n  \r\n      config: { mass: 1, tension: 600, friction: 50 },\r\n    })),\r\n  };\r\n\r\n  let resetPosSpringConfig  = { tension: 200, friction: 75 };\r\n  let resetZoomSpringConfig = { tension: 300, friction: 60 };\r\n\r\n  let reset = () => {\r\n    mandelbrotControls.pos[1]({\r\n      pos: [0, 0],\r\n      config: resetPosSpringConfig,\r\n    });\r\n    mandelbrotControls.zoom[1]({\r\n      zoom: 1,\r\n      config: resetZoomSpringConfig,\r\n    });\r\n    \r\n    juliaControls.pos[1]({\r\n      pos: [0, 0],\r\n      config: resetPosSpringConfig,\r\n    });\r\n    juliaControls.zoom[1]({\r\n      zoom: 1,\r\n      config: resetZoomSpringConfig,\r\n    });\r\n  };\r\n\r\n  const [showInfo, setShowInfo] = useState(false);\r\n\r\n  let toggleInfo = () => setShowInfo(!showInfo);\r\n\r\n  let controls = {\r\n    miniViewer: useState(true),\r\n    crosshair: useState(true),\r\n    coords: useState(false),\r\n    maxI: useState(250),\r\n    aa: useState(false),\r\n    dpr: useState(false),\r\n    fps: useState(false),\r\n  };\r\n\r\n  let toggleVal = ([v, setV]) => setV(!v);\r\n\r\n  let settings = [{\r\n    title: \"Interface\",\r\n    items: {\r\n      miniViewer: {\r\n        name: 'Mini viewers', \r\n        ctrl: <Switch \r\n          color=\"primary\"\r\n          checked={controls.miniViewer[0]} \r\n          onChange={() => toggleVal(controls.miniViewer)} \r\n        />\r\n      },\r\n      crosshair: {\r\n        name: 'Crosshair', \r\n        ctrl: <Switch \r\n          color=\"primary\"\r\n          checked={controls.crosshair[0]} \r\n          onChange={() => toggleVal(controls.crosshair)} \r\n        />\r\n      },\r\n      coords: {\r\n        name: 'Show coordinates', \r\n        ctrl: <Switch \r\n          color=\"primary\"\r\n          checked={controls.coords[0]} \r\n          onChange={() => toggleVal(controls.coords)} \r\n        />\r\n      },\r\n    }\r\n  }, {\r\n    title: \"Graphics\",\r\n    items: {\r\n      iterations: {\r\n        name: 'Iterations', \r\n        ctrl: <Slider \r\n          min={5}\r\n          max={1000}\r\n          step={5}\r\n          defaultValue={250}\r\n          valueLabelDisplay=\"auto\"\r\n          value={controls.maxI[0]}\r\n          marks={[\r\n            { value: 5, label: 5 },\r\n            { value: 250, label: 250 },\r\n            { value: 500, label: 500 },\r\n            { value: 750, label: 750 },\r\n            { value: 1000, label: 1000 },\r\n          ]}\r\n          onChange={(e, val) => controls.maxI[1](val)}\r\n          // onChange={(e, val) => console.log(val)}\r\n        />,\r\n        placement: \"top\"\r\n      },\r\n      dpr: {\r\n        // https://stackoverflow.com/a/12830454/9184658\r\n          // // There is a downside that values like 1.5 will give \"1.50\" as the output. A fix suggested by @minitech:\r\n          // var numb = 1.5;\r\n          // numb = +numb.toFixed(2);\r\n          // // Note the plus sign that drops any \"extra\" zeroes at the end.\r\n          // // It changes the result (which is a string) into a number again (think \"0 + foo\"),\r\n          // // which means that it uses only as many digits as necessary.\r\n        name: `Use pixel ratio (${+window.devicePixelRatio.toFixed(3) || 1})`, \r\n        ctrl: <Switch\r\n          checked={controls.dpr[0]} \r\n          color=\"primary\"\r\n          onChange={() => {\r\n            let useDpr = !controls.dpr[0];\r\n            // console.log(useDpr ? window.devicePixelRatio : 1);\r\n            setDpr(useDpr ? window.devicePixelRatio : 1)\r\n            controls.dpr[1](useDpr);\r\n          }}\r\n        />\r\n      },\r\n      aa: {\r\n        name: 'Anti-aliasing (slow)', \r\n        ctrl: <Switch\r\n          color=\"primary\"\r\n          checked={controls.aa[0]} \r\n          onChange={() => toggleVal(controls.aa)}\r\n        />\r\n      },\r\n      fps: {\r\n        name: 'Show FPS', \r\n        ctrl: <Switch\r\n          color=\"primary\"\r\n          checked={controls.fps[0]} \r\n          onChange={() => toggleVal(controls.fps)}\r\n        />\r\n      },\r\n    }\r\n  }]\r\n  // const [{ pos }, setPos] = mandelbrotControls.pos;\r\n  \r\n  return (\r\n    <Grid container>\r\n      <Grid\r\n        item\r\n        container\r\n        direction={size.width < size.height ? \"column-reverse\" : \"row\"}\r\n        justify=\"center\"\r\n        className=\"fullSize\"\r\n        style={{\r\n          position: \"absolute\",\r\n        }}\r\n      >\r\n        <Card\r\n        style={{\r\n          width: \"auto\",\r\n          position: \"absolute\",\r\n          zIndex: 2,\r\n          right: 0,\r\n          top: 0,\r\n          margin: 20,\r\n          padding: 8,\r\n          display: controls.coords[0] ? \"block\" : \"none\",\r\n          // borderRadius: 100,\r\n        }}\r\n        >\r\n          <Typography align=\"right\">\r\n            <animated.span>{mandelbrotControls.pos[0].pos.interpolate((x) => (x * screenScaleMultiplier).toFixed(7))}</animated.span> : x<br />\r\n            <animated.span>{mandelbrotControls.pos[0].pos.interpolate((x, y) => (y * screenScaleMultiplier).toFixed(7))}</animated.span> : y\r\n          </Typography>\r\n        </Card>\r\n        <Grid item xs className=\"renderer\">\r\n          <MandelbrotRenderer\r\n            controls={mandelbrotControls}\r\n            maxiter={controls.maxI[0]}\r\n            screenmult={screenScaleMultiplier}\r\n            miniSize={miniSize}\r\n            enableMini={controls.miniViewer[0]}\r\n            crosshair={controls.crosshair[0]}\r\n            aa={controls.aa[0]}\r\n            dpr={dpr}\r\n            showFps={controls.fps[0]}\r\n          />\r\n        </Grid>\r\n        <Grid item xs className=\"renderer\" \r\n          // style={{ display: \"none\" }}\r\n          >\r\n          <JuliaRenderer\r\n            c={mandelbrotControls.pos[0].pos}\r\n            controls={juliaControls}\r\n            maxiter={controls.maxI[0]}\r\n            screenmult={screenScaleMultiplier}\r\n            miniSize={miniSize}\r\n            enableMini={controls.miniViewer[0]}\r\n            aa={controls.aa[0]}\r\n            dpr={dpr}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n\r\n      <SettingsMenu \r\n        settings={settings}\r\n        reset={() => reset()}\r\n        toggleInfo={() => toggleInfo()}\r\n      />\r\n\r\n      <InfoDialog ctrl={[showInfo, setShowInfo]} />\r\n\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}